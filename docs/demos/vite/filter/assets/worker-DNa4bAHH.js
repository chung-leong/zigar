var jr=Object.defineProperty;var _r=(e,t,n)=>t in e?jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var k=(e,t,n)=>(_r(e,typeof t!="symbol"?t+"":t,n),n);const P={Void:0,Bool:1,Int:2,Uint:3,Float:4,Object:5,Type:6,Comptime:7,Static:8,Literal:9,Null:10,Undefined:11,Unsupported:12},A={Primitive:0,Array:1,Struct:2,ExternStruct:3,PackedStruct:4,ArgStruct:5,VariadicStruct:6,ExternUnion:7,BareUnion:8,TaggedUnion:9,ErrorUnion:10,ErrorSet:11,Enum:12,Optional:13,SinglePointer:14,SlicePointer:15,MultiPointer:16,CPointer:17,Slice:18,Vector:19,Opaque:20,Function:21},Ge={Normal:0,Scratch:1};function Qe(e){const{type:t,bitSize:n,byteSize:s}=e;if(t===P.Int)return`${n<=32?"":"Big"}Int${n}`;if(t===P.Uint)return`${n<=32?"":"Big"}Uint${n}`;if(t===P.Float)return`Float${n}`;if(t===P.Bool)return`Bool${s!==void 0?s*8:1}`;if(t===P.Void)return"Null"}function Rr(e){for(const[t,n]of Object.entries(A))if(n===e)return t.replace(/\B[A-Z]/g,s=>` ${s}`).toLowerCase()}function Fr(e){const{type:t,bitSize:n}=e,s=t===P.Int;let r=s?n-1:n;if(n<=32){const i=2**r-1;return{min:s?-(2**r):0,max:i}}else{r=BigInt(r);const i=2n**r-1n;return{min:s?-(2n**r):0n,max:i}}}function qn({type:e,bitSize:t}){if(e===P.Int||e===P.Uint)return t<=32?Number:BigInt;if(e===P.Float)return Number;if(e===P.Bool)return Boolean}function Wn(e){const t=qn(e);if(t)return typeof t(0)}function Mn(e){switch(e){case A.SinglePointer:case A.SlicePointer:case A.MultiPointer:case A.CPointer:return!0;default:return!1}}function Ur(e){return e===A.Array||e===A.Vector||e===A.Slice}function Gn({bitOffset:e,bitSize:t,byteSize:n}){return n!==void 0||!(e&7)&&!(t&7)||t===0}function Ht(e){return typeof e=="object"&&typeof e.error=="string"&&Object.keys(e).length===1}class Nr extends ReferenceError{constructor(t){super(`Invalid memory deallocation: @${t.toString(16)}`)}}class Br extends TypeError{constructor(t){const{name:n}=t;super(`An initializer must be provided to the constructor of ${n}, even when the intended value is undefined`)}}class Jn extends TypeError{constructor(t,n,s=null){const{name:r,type:i,byteSize:o}=t,c=n.byteLength,a=o!==1?"s":"";let l;if(i===A.Slice&&!s)l=`${r} has elements that are ${o} byte${a} in length, received ${c}`;else{const u=i===A.Slice?s.length*o:o;l=`${r} has ${u} byte${a}, received ${c}`}super(l)}}class Lr extends TypeError{constructor(t){const{type:n,byteSize:s,typedArray:r}=t,i=s!==1?"s":"",o=["ArrayBuffer","DataView"].map(bt);r&&o.push(bt(r.name));let c;n===A.Slice?c=`Expecting ${Je(o)} that can accommodate items ${s} byte${i} in length`:c=`Expecting ${Je(o)} that is ${s} byte${i} in length`,super(c)}}class qr extends TypeError{constructor(t,n){const{name:s}=t;let r;typeof n=="number"||typeof n=="bigint"?r=`Value given does not correspond to an item of enum ${s}: ${n}`:r=`Enum item of the type ${s} expected, received ${n}`,super(r)}}class Wr extends TypeError{constructor(t,n){const{name:s}=t,r=typeof n;let i;r==="string"||r==="number"||Ht(n)?(Ht(n)&&(n=`{ error: ${JSON.stringify(n.error)} }`),i=`Error ${r} does not corresponds to any error in error set ${s}: ${n}`):i=`Error of the type ${s} expected, received ${n}`,super(i)}}class Kn extends TypeError{constructor(t){const{name:n}=t;super(`Error given is not a part of error set ${n}`)}}class zt extends TypeError{constructor(t,n,s){const{name:r}=t,i=[];if(Array.isArray(n))for(const c of n)i.push(bt(c));else i.push(bt(n));const o=Xn(s);super(`${r} expects ${Je(i)} as argument, received ${o}`)}}class Tt extends zt{constructor(t,n,s=!1){var l;const{instance:{members:[r]},type:i,typedArray:o}=t,c=[],a=Wn(r);if(a){let u;switch((l=r.structure)==null?void 0:l.type){case A.Enum:u="enum item";break;case A.ErrorSet:u="error";break;default:u=a}c.push(`array of ${u}s`)}else c.push("array of objects");o&&c.push(o.name),i===A.Slice&&s&&c.push("length"),super(t,c.join(" or "),n)}}class de extends TypeError{constructor(t,n,s){const{name:r,length:i,instance:{members:[o]}}=t,{structure:{constructor:c}}=o,{length:a,constructor:l}=s,u=(n==null?void 0:n.length)??i,f=u!==1?"s":"";let m;l===c?m="only a single one":l.child===c?m=`a slice/array that has ${a}`:m=`${a} initializer${a>1?"s":""}`,super(`${r} has ${u} element${f}, received ${m}`)}}class $n extends TypeError{constructor(t,n){t<0?super("Length of slice cannot be negative"):super(`Length of slice can be ${n} or less, received ${t}`)}}class Gr extends TypeError{constructor(t,n){const{name:s}=t;super(`Missing initializers for ${s}: ${n.join(", ")}`)}}class Jr extends TypeError{constructor(t,n){const{name:s,instance:{members:r}}=t,i=r.find(c=>c.name===n);let o;i?o=`Comptime value cannot be changed: ${n}`:o=`${s} does not have a property with that name: ${n}`,super(o)}}class Kr extends Error{constructor(t,n,s){const r=n!==1?"s":"";super(`${t}() expects ${n} argument${r}, received ${s}`)}}class Hr extends TypeError{constructor(t){super("Non-slice pointers can only be created with the help of the new operator")}}class Yr extends TypeError{constructor(t,n){const{name:s}=t,{constructor:{name:r}}=n;super(`Conversion of ${r} to ${s} requires an explicit cast`)}}class kn extends TypeError{constructor(t,n,s,r){const{name:i}=t;super(`${i} expects the sentinel value ${n} at ${r-1}, found at ${s}`)}}class ae extends TypeError{constructor(t,n,s){const{name:r}=t;super(`${r} expects the sentinel value ${n} at ${s-1}`)}}class Xr extends TypeError{constructor(t,n){super(`Unable to simultaneously align memory to ${n}-byte and ${t}-byte boundary`)}}class be extends TypeError{constructor(t,n){const s=Xn(n);super(`Expected ${bt(t)}, received ${s}`)}}class Zr extends TypeError{constructor(){super("Null pointer")}}class Qr extends TypeError{constructor(t,n){const{name:s}=t;let r;if(n!=null){const i=typeof n,o=i==="object"&&n.constructor!==Object?`${n.constructor.name} object`:i;r=`${Zn(o)} ${o}`}else r=n+"";super(`${s} cannot point to ${r}`)}}class ti extends TypeError{constructor(t,n){super("Pointers in fixed memory cannot point to garbage-collected object")}}class ei extends TypeError{constructor(t,n){const s=Qe(t);super(`${s} cannot represent the value given: ${n}`)}}class Cn extends RangeError{constructor(t,n){const{name:s}=t;super(`Index exceeds the size of ${s??"array"}: ${n}`)}}class ni extends TypeError{constructor(t){const{name:n,structure:{name:{struct:s}}}=t;super(`Unable to create ${s} as it is not situated on a byte boundary: ${n}`)}}class si extends TypeError{constructor(){super("Unable to modify read-only object")}}class ri extends TypeError{constructor(t){const{name:n}=t;super(`${n} cannot point to a read-only object`)}}class Hn extends Error{constructor(t){super(Yn(t))}}class Dn extends Hn{constructor(t){super("Program exited"),this.code=t}}function ii(e,t,n,s){const r=`args[${t}]`,i=t!==0?"..., ":"",o=t!==n-1?", ...":"",c=i+r+o,a=Object.create(s.constructor.prototype);return a.message=`${e}(${c}): ${s.message}`,a.stack=s.stack,a}function jn(e,t,n){return n instanceof RangeError&&!(n instanceof Cn)&&(n=new Cn(e,t)),n}function _t(){throw new si}function oi(e,t){const n=bt(e.typedArray.name),s=bt(t.constructor.name);console.warn(`Implicitly creating ${n} from ${s}`)}function Yn(e){let t=e.replace(/_/g," ");try{t=t.replace(new RegExp("(\\p{Uppercase}+)(\\p{Lowercase}*)","gu"),(n,s,r)=>s.length===1?` ${s.toLocaleLowerCase()}${r}`:r?n:` ${s}`).trimStart()}catch{}return t.charAt(0).toLocaleUpperCase()+t.substring(1)}function Xn(e){const t=typeof e;let n;return t==="object"?n=e?Object.prototype.toString.call(e):"null":n=t,bt(n)}function bt(e){return`${Zn(e)} ${e}`}function Zn(e){return/^\W*[aeiou]/i.test(e)?"an":"a"}function Je(e,t="or"){const n=` ${t} `;return e.length>2?e.slice(0,-1).join(", ")+n+e[e.length-1]:e.join(n)}const g=Symbol("memory"),V=Symbol("slots"),tn=Symbol("parent"),j=Symbol("fixed"),Qn=Symbol("name"),X=Symbol("type"),ts=Symbol("tuple"),Gt=Symbol("class"),_n=Symbol("tag"),xt=Symbol("props"),Se=Symbol("getter"),ge=Symbol("setter"),qt=Symbol("elementGetter"),Wt=Symbol("elementSetter"),nt=Symbol("targetGetter"),Ke=Symbol("targetSetter"),It=Symbol("entriesGetter"),He=Symbol("addressSetter"),Ye=Symbol("lengthSetter"),es=Symbol("targetUpdater"),le=Symbol("maxLength"),we=Symbol("propSetters"),J=Symbol("memoryRestorer"),Z=Symbol("writeDisabler"),ns=Symbol("allKeys"),ue=Symbol("address"),Et=Symbol("length"),ve=Symbol("proxy"),Xt=Symbol("compat"),ss=Symbol("cache"),Q=Symbol("size"),ci=Symbol("bitSize"),N=Symbol("align"),en=Symbol("array"),Pt=Symbol("pointer"),Vt=Symbol("constTarget"),qe=Symbol("constProxy"),_=Symbol("copier"),Rn=Symbol("resetter"),st=Symbol("vivificator"),F=Symbol("pointerVisitor"),Jt=Symbol("environment"),ai=Symbol("attributes"),rs=Symbol("more"),li=Symbol("primitive");function St(e){return function(){const t=this[g];this[g]=null,this[V]&&(this[V]={}),e.releaseFixedView(t)}}function Fn(e,t,n){if(e+t<=8){const s=2**t-1;if(n)return function(r,i,o){const a=i.getUint8(o)>>e&s;r.setUint8(0,a)};{const r=255^s<<e;return function(i,o,c){const a=o.getUint8(0),u=i.getUint8(c)&r|(a&s)<<e;i.setUint8(c,u)}}}else{const s=8-e,r=2**s-1;if(n){const o=2**(t%8)-1;return function(c,a,l){let u=l,f=0,m=a.getUint8(u++),b,S=m>>e&r,h=s,d=t;do d>h&&(m=a.getUint8(u++),S=S|m<<h),b=d>=8?S&255:S&o,c.setUint8(f++,b),S>>=8,d-=8;while(d>0)}}else{const o=2**((t-s)%8)-1,c=255^r<<e,a=255^o;return function(l,u,f){let m=0,b=f,S=l.getUint8(b),h,d,v=S&c,O=e,C=t+O;do C>O&&(h=u.getUint8(m++),v=v|h<<O,O+=8),C>=8?d=v&255:(S=l.getUint8(b),d=S&a|v&o),l.setUint8(b++,d),v>>=8,O-=8,C-=8;while(C>0)}}}}function tt(e,t=!1){const n=nn(e,t);return function(s){var o,c;(o=this[J])==null||o.call(this),(c=s[J])==null||c.call(s);const r=s[g],i=this[g];n(i,r)}}function nn(e,t=!1){if(e!==void 0){if(!t){const n=fi[e];if(n)return n}return e&7?e&3?e&1?yi:hi:mi:pi}else return ui}function ui(e,t){nn(e.byteLength)(e,t)}const fi={1:di,2:bi,4:Si,8:gi,16:wi,32:vi};function yi(e,t){for(let n=0,s=e.byteLength;n<s;n++)e.setInt8(n,t.getInt8(n))}function hi(e,t){for(let n=0,s=e.byteLength;n<s;n+=2)e.setInt16(n,t.getInt16(n,!0),!0)}function mi(e,t){for(let n=0,s=e.byteLength;n<s;n+=4)e.setInt32(n,t.getInt32(n,!0),!0)}function pi(e,t){for(let n=0,s=e.byteLength;n<s;n+=8)e.setInt32(n,t.getInt32(n,!0),!0),e.setInt32(n+4,t.getInt32(n+4,!0),!0)}function di(e,t){e.setInt8(0,t.getInt8(0))}function bi(e,t){e.setInt16(0,t.getInt16(0,!0),!0)}function Si(e,t){e.setInt32(0,t.getInt32(0,!0),!0)}function gi(e,t){e.setInt32(0,t.getInt32(0,!0),!0),e.setInt32(4,t.getInt32(4,!0),!0)}function wi(e,t){e.setInt32(0,t.getInt32(0,!0),!0),e.setInt32(4,t.getInt32(4,!0),!0),e.setInt32(8,t.getInt32(8,!0),!0),e.setInt32(12,t.getInt32(12,!0),!0)}function vi(e,t){e.setInt32(0,t.getInt32(0,!0),!0),e.setInt32(4,t.getInt32(4,!0),!0),e.setInt32(8,t.getInt32(8,!0),!0),e.setInt32(12,t.getInt32(12,!0),!0),e.setInt32(16,t.getInt32(16,!0),!0),e.setInt32(20,t.getInt32(20,!0),!0),e.setInt32(24,t.getInt32(24,!0),!0),e.setInt32(28,t.getInt32(28,!0),!0)}function Oi(e,t){const n=Ai(t);return function(){var r;(r=this[J])==null||r.call(this);const s=this[g];n(s,e,t)}}function Ai(e){const t=Ei[e];return t||(e&7?e&3?e&1?Ti:zi:xi:Ii)}const Ei={1:Pi,2:Vi,4:Mi,8:$i,16:ki,32:Ci};function Ti(e,t,n){for(let s=t,r=t+n;s<r;s++)e.setInt8(s,0)}function zi(e,t,n){for(let s=t,r=t+n;s<r;s+=2)e.setInt16(s,0,!0)}function xi(e,t,n){for(let s=t,r=t+n;s<r;s+=4)e.setInt32(s,0,!0)}function Ii(e,t,n){for(let s=t,r=t+n;s<r;s+=8)e.setInt32(s,0,!0),e.setInt32(s+4,0,!0)}function Pi(e,t){e.setInt8(t,0)}function Vi(e,t){e.setInt16(t,0,!0)}function Mi(e,t){e.setInt32(t,0,!0)}function $i(e,t){e.setInt32(t+0,0,!0),e.setInt32(t+4,0,!0)}function ki(e,t){e.setInt32(t+0,0,!0),e.setInt32(t+4,0,!0),e.setInt32(t+8,0,!0),e.setInt32(t+12,0,!0)}function Ci(e,t){e.setInt32(t+0,0,!0),e.setInt32(t+4,0,!0),e.setInt32(t+8,0,!0),e.setInt32(t+12,0,!0),e.setInt32(t+16,0,!0),e.setInt32(t+20,0,!0),e.setInt32(t+24,0,!0),e.setInt32(t+28,0,!0)}function ye(e,t){return Gi(e,t,n=>DataView.prototype[n]?DataView.prototype[n]:ji(e,t))}const is={};function Di(){is[P.Uint]=_i}function ji(e,t){const n=is[t.type];return n(e,t)}function _i(e,t){return Gn(t)?Li(e,t):qi(e,t)}function Oe(e,t,n){const{type:s,byteSize:r,typedArray:i}=e;let o;const c=t==null?void 0:t[Symbol.toStringTag];if(c==="DataView")o=n.registerView(t);else if(c==="ArrayBuffer"||c==="SharedArrayBuffer")o=n.obtainView(t,0,t.byteLength);else if(i&&c===i.name||c==="Uint8ClampedArray"&&i===Uint8Array)o=n.obtainView(t.buffer,t.byteOffset,t.byteLength);else if(c==="Uint8Array"&&typeof Buffer=="function"&&t instanceof Buffer)o=n.obtainView(t.buffer,t.byteOffset,t.byteLength);else{const a=t==null?void 0:t[g];if(a){const{constructor:l,instance:{members:[u]}}=e;if(t instanceof l)return a;if(Ur(s)){const{byteSize:f,structure:{constructor:m}}=u,b=cs(t,m);if(b!==void 0){if(s===A.Slice||b*f===r)return a;throw new de(e,null,t)}}}}return o&&r!==void 0&&os(o,e),o}function Ri(e){if((e==null?void 0:e[Symbol.toStringTag])!=="DataView")throw new be("a DataView",e);return e}function os(e,t){const{byteSize:n,type:s}=t;if(!(s===A.Slice?e.byteLength%n===0:e.byteLength===n))throw new Jn(t,e)}function Zt(e,t,n,s,r){const{byteSize:i,type:o,sentinel:c}=t,a=i??1;if(this[g]){const l=o===A.Slice?a*this.length:a;if(e.byteLength!==l)throw new Jn(t,e,this);const u={[g]:e};c==null||c.validateData(u,this.length),this[_](u)}else{const{shapeDefiner:l}=r;i!==void 0&&os(e,t);const u=e.byteLength/a,f={[g]:e};c==null||c.validateData(f,u),s&&(n=!0),l.call(this,n?null:e,u,s),n&&this[_](f)}}function cs(e,t){const{constructor:n}=e;if(n===t)return 1;if(n.child===t)return e.length}function Fi(e,t,n){const s=Oe(e,t,n);if(!s)throw new Lr(e);return s}function Mt(e){const{type:t,byteSize:n}=e;if(t===P.Int)switch(n){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;case 8:return BigInt64Array}else if(t===P.Uint)switch(n){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;case 8:return BigUint64Array}else if(t===P.Float)switch(n){case 4:return Float32Array;case 8:return Float64Array}else if(t===P.Object)return e.structure.typedArray;return null}function Ui(e,t){const n=e==null?void 0:e[Symbol.toStringTag];return!!t&&n===t.name}function Ni(e,t){if(e){const n=t[Xt];if(n){const s=e==null?void 0:e[Symbol.toStringTag];if(n.includes(s))return!0}if(t.child&&cs(e,t.child)!==void 0)return!0}return!1}function Ae(e){const{typedArray:t}=e,n=[];return t&&(n.push(t.name),n.push("DataView"),(t===Uint8Array||t===Int8Array)&&(n.push("ArrayBuffer"),n.push("SharedArrayBuffer"),t===Uint8Array&&n.push("Uint8ClampedArray"))),n}function Bi(e){const t=DataView.prototype.getBigUint64,n=DataView.prototype.setBigUint64,s=Math.ceil(e/64);return{get:function(r,i){let o=0n;if(i)for(let c=0,a=r+(s-1)*8;c<s;c++,a-=8){const l=t.call(this,a,i);o=o<<64n|l}else for(let c=0,a=r;c<s;c++,a+=8){const l=t.call(this,a,i);o=o<<64n|l}return o},set:function(r,i,o){let c=i;const a=0xFFFFFFFFFFFFFFFFn;if(o)for(let l=0,u=r;l<s;l++,u+=8){const f=c&a;n.call(this,u,f,o),c>>=64n}else{c<<=BigInt(s*64-e);for(let l=0,u=r+(s-1)*8;l<s;l++,u-=8){const f=c&a;n.call(this,u,f,o),c>>=64n}}return c}}}function Li(e,t){const{bitSize:n,byteSize:s}=t;if(n<64){const r=Qe({...t,bitSize:s*8}),i=DataView.prototype[`get${r}`],o=DataView.prototype[`set${r}`],c=n<=32?2**n-1:2n**BigInt(n)-1n;return e==="get"?function(a,l){return i.call(this,a,l)&c}:function(a,l,u){const f=l&c;o.call(this,a,f,u)}}else{const{get:r,set:i}=Bi(n),o=2n**BigInt(n)-1n;return e==="get"?function(c,a){return r.call(this,c,a)&o}:function(c,a,l){const u=a&o;i.call(this,c,u,l)}}}function qi(e,t){const{bitSize:n,bitOffset:s}=t,r=s&7;if(r+n<=8){const i=DataView.prototype.setUint8,o=DataView.prototype.getUint8,c=2**n-1;if(e==="get")return function(a){return o.call(this,a)>>>r&c};{const a=255^c<<r;return function(l,u){const m=o.call(this,l)&a|(u&c)<<r;i.call(this,l,m)}}}return Wi(e,t)}function Wi(e,t){const{bitSize:n,bitOffset:s}=t,r=s&7,i=[1,2,4,8].find(c=>c*8>=n)??Math.ceil(n/64)*64,o=new DataView(new ArrayBuffer(i));if(e==="get"){const c=ye("get",{...t,byteSize:i}),a=Fn(r,n,!0);return function(l,u){return a(o,this,l),c.call(o,0,u)}}else{const c=ye("set",{...t,byteSize:i}),a=Fn(r,n,!1);return function(l,u,f){c.call(o,0,u,f),a(this,o,l)}}}const Un={};function Gi(e,t,n){const{type:s,bitOffset:r,bitSize:i,structure:o}=t,c=r&7,a=Qe(t),l=Gn(t)?"":`Bit${c}`,u=s===P.Int||s===P.Uint;let f=`${e}${a}${l}`,m=!1,b=f;if(u&&i===64){const h=o==null?void 0:o.name;(h==="usize"||h==="isize")&&(f+="Size",m=!0)}let S=Un[f];if(!S){if(u&&e==="set"){const h=qn(t),d=n(b);S=function(v,O,C){d.call(this,v,h(O),C)}}else if(m&&e==="get"){const h=n(b),d=BigInt(Number.MIN_SAFE_INTEGER),v=BigInt(Number.MAX_SAFE_INTEGER);S=function(O,C){const z=h.call(this,O,C);return d<=z&&z<=v?Number(z):z}}else S=n(f);S&&S.name!==f&&Object.defineProperty(S,"name",{value:f,configurable:!0,writable:!1}),Un[f]=S}return S}function Ji({type:e}){switch(e){case P.Type:case P.Comptime:case P.Literal:return!0;default:return!1}}const Ut={};function sn(){Ut[P.Uint]=eo}function Ki(){Ut[P.Float]=so}function Hi(){Ut[P.Object]=co}function Yi(){Ut[P.Type]=lo}function Xi(){Ut[P.Comptime]=uo}const rn={};function Zi(){rn[A.Enum]=ro}function Qi(){rn[A.ErrorSet]=io}function W(e,t){const n=Ut[e.type];return n(e,t)}function to(e,t){const{structure:n}=t,s=rn[n==null?void 0:n.type];return s?s(e,n):e}function eo(e,t){const n=no(t,ye),s=us(e,t,n);return to(s,e)}function no(e,t){return function(n,s){const{runtimeSafety:r=!0}=e,i=t(n,s);if(r&&n==="set"){const{min:o,max:c}=Fr(s);return function(a,l,u){if(l<o||l>c)throw new ei(s,l);i.call(this,a,l,u)}}return i}}function so(e,t){return us(e,t,ye)}function ro(e,t){const n=function(s){const{constructor:r}=t,i=r(s);if(!i)throw new qr(t,s);return i};return{get:e.get.length===0?function(r){const i=e.get.call(this);return r==="number"?i:n(i)}:function(r){const i=e.get.call(this,r);return n(i)},set:e.set.length===1?function(r,i){i!=="number"&&(r=n(r)[Symbol.toPrimitive]()),e.set.call(this,r)}:function(r,i){const o=n(i);e.set.call(this,r,o[Symbol.toPrimitive]())}}}function io(e,t){const n=function(s){const{constructor:r}=t,i=r(s);if(!i)throw s instanceof Error?new Kn(t):new Wr(t,s);return i};return{get:e.get.length===0?function(r){const i=e.get.call(this);return r==="number"?i:n(i)}:function(r){const i=e.get.call(this,r);return n(i)},set:e.set.length===1?function(r,i){if(i!=="number"){const o=n(r);r=Number(o)}e.set.call(this,r)}:function(r,i){const o=n(i);i=Number(o),e.set.call(this,r,i)}}}function on(e){switch(e==null?void 0:e.type){case A.Primitive:case A.ErrorUnion:case A.Optional:case A.Enum:case A.ErrorSet:return!0;default:return!1}}function as(e){return(this[V][e]??this[st](e))[Se]()}function ls(e){return this[V][e]??this[st](e)}function oo(e,t){(this[V][e]??this[st](e))[ge](t)}function cn(e,{get:t,set:n}){return e!==void 0?{get:function(){return t.call(this,e)},set:n?function(s){return n.call(this,e,s)}:void 0}:{get:t,set:n}}function co(e,t){const{structure:n,slot:s}=e;return cn(s,{get:on(n)?as:ls,set:oo})}function ao(e){const t=this[V][e];return t==null?void 0:t.constructor}function lo(e,t){const{slot:n}=e;return cn(n,{get:ao})}function uo(e,t){const{slot:n,structure:s}=e;return cn(n,{get:on(s)?as:ls})}function us(e,t,n){const{littleEndian:s=!0}=t,{bitOffset:r,byteSize:i}=e,o=n("get",e),c=n("set",e);if(r!==void 0){const a=r>>3;return{get:function(){try{return o.call(this[g],a,s)}catch(u){if(u instanceof TypeError&&this[J]())return o.call(this[g],a,s);throw u}},set:function(u){try{return c.call(this[g],a,u,s)}catch(f){if(f instanceof TypeError&&this[J]())return c.call(this[g],a,u,s);throw f}}}}else return{get:function(l){try{return o.call(this[g],l*i,s)}catch(u){if(u instanceof TypeError&&this[J]())return o.call(this[g],l*i,s);throw jn(e,l,u)}},set:function(l,u){try{return c.call(this[g],l*i,u,s)}catch(f){if(f instanceof TypeError&&this[J]())return c.call(this[g],l*i,u,s);throw jn(e,l,f)}}}}function Xe(e,t,n){if(n){const{set:s,get:r,value:i,enumerable:o,configurable:c=!0,writable:a=!0}=n;Object.defineProperty(e,t,r?{get:r,set:s,configurable:c,enumerable:o}:{value:i,configurable:c,enumerable:o,writable:a})}}function H(e,t){for(const[n,s]of Object.entries(t))Xe(e,n,s);for(const n of Object.getOwnPropertySymbols(t)){const s=t[n];Xe(e,n,s)}}function ht(e,t,n,s){const r={};for(const[c,a]of Object.entries(t))a!=null&&a.set&&c!=="$"&&(r[c]=a.set);const{get:i,set:o}=t.$;return H(e.prototype,{[ns]:{value:Object.keys(r)},[ge]:{value:o},[Se]:{value:i},[we]:{value:r},[Vt]:{value:null},[J]:{value:an(e[ss],s)},...t}),H(e,n),e}function $t(){const e=Object.getOwnPropertyDescriptors(this.constructor.prototype);for(const[t,n]of Object.entries(e))n.set&&(n.set=_t,Object.defineProperty(this,t,n));Object.defineProperty(this,ge,{value:_t}),Object.defineProperty(this,Vt,{value:this})}function mt(e,t,n){const{byteSize:s,align:r,instance:{members:i,template:o}}=e,{modifier:c,initializer:a,finalizer:l,alternateCaster:u,shapeDefiner:f}=t,m=fo(i);let b;if(o!=null&&o[V]){const d=i.filter(v=>Ji(v));d.length>0&&(b=d.map(v=>v.slot))}const S=new yo,h=function(d,v={}){const{fixed:O=!1}=v,C=this instanceof h;let z,T;if(C){if(arguments.length===0)throw new Br(e);z=this,m&&(z[V]={}),f?(a.call(z,d,O),T=z[g]):z[g]=T=n.allocateMemory(s,r,O)}else{if(u&&(z=u.call(this,d,v),z!==!1)||(T=Fi(e,d,n),z=S.find(T)))return z;z=Object.create(h.prototype),f?Zt.call(z,T,e,!1,!1,{shapeDefiner:f}):z[g]=T,m&&(z[V]={})}if(b)for(const q of b)z[V][q]=o[V][q];return c&&c.call(z),C&&(f||a.call(z,d)),l&&(z=l.call(z)),S.save(T,z)};return Xe(h,ss,{value:S}),h}function an(e,t){return function(){const n=this[g],s=n[j];if(s&&n.buffer.byteLength===0){const r=t.obtainFixedView(s.address,s.len);return s.align&&(r[j].align=s.align),this[g]=r,e==null||e.save(r,this),!0}else return!1}}function Qt({source:e}){const t=e[V][0];t&&this[Ke](t)}function gt(e){const{instance:{template:t}}=e;return function(n,s){var f;const r=Object.keys(n),i=this[we],o=this[ns];for(const m of r)if(!(m in i))throw new Jr(e,m);let c=0,a=0,l=0,u=0;for(const m of o){const b=i[m];b.special?m in n&&u++:(c++,m in n?a++:b.required&&l++)}if(l!==0&&u===0){const m=o.filter(b=>i[b].required&&!(b in n));throw new Gr(e,m)}if(u+a>r.length)for(const m of o)m in n&&(r.includes(m)||r.push(m));a<c&&u===0&&t&&(t[g]&&this[_](t),(f=this[F])==null||f.call(this,Qt,{vivificate:!0,source:t}));for(const m of r)i[m].call(this,n[m],s);return r.length}}function fo(e){for(const{type:t}of e)switch(t){case P.Object:case P.Comptime:case P.Type:case P.Literal:return!0}return!1}function fs(){return this}class yo{constructor(){k(this,"map",new WeakMap)}find(t){return this.map.get(t)}save(t,n){return this.map.set(t,n),n}}const Nn={},Bn={};function Kt(e,t="utf-8"){let n=Nn[t];n||(n=Nn[t]=new TextDecoder(t));let s;if(Array.isArray(e))if(e.length===1)s=e[0];else{let r=0;for(const c of e)r+=c.length;const{constructor:i}=e[0];s=new i(r);let o=0;for(const c of e)s.set(c,o),o+=c.length}else s=e;return n.decode(s)}function ho(e,t="utf-8"){switch(t){case"utf-16":{const{length:n}=e,s=new Uint16Array(n);for(let r=0;r<n;r++)s[r]=e.charCodeAt(r);return s}default:{let n=Bn[t];return n||(n=Bn[t]=new TextEncoder),n.encode(e)}}}function mo(e){const t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=String.fromCharCode.apply(null,t);return btoa(n)}function po(e){const t=atob(e),n=new Uint8Array(t.length);for(let s=0;s<n.byteLength;s++)n[s]=t.charCodeAt(s);return new DataView(n.buffer)}function rt(){return ys(this,!1)}function at(){return ys(this,!0)}const bo=BigInt(Number.MAX_SAFE_INTEGER),So=BigInt(Number.MIN_SAFE_INTEGER);function ys(e,t){const n=t?"return":"throw",s=new Map,r=function(i){var a,l,u;const o=typeof i=="function"?A.Struct:(a=i==null?void 0:i.constructor)==null?void 0:a[X];if(o===void 0){if(t){if(typeof i=="bigint"&&So<=i&&i<=bo)return Number(i);if(i instanceof Error)return{error:i.message}}return i}let c=s.get(i);if(c===void 0){let f;switch(o){case A.Struct:case A.PackedStruct:case A.ExternStruct:case A.TaggedUnion:case A.BareUnion:case A.ExternUnion:f=(l=i[It])==null?void 0:l.call(i,{error:n}),c=i.constructor[ts]?[]:{};break;case A.Array:case A.Vector:case A.Slice:f=(u=i[It])==null?void 0:u.call(i,{error:n}),c=[];break;case A.SinglePointer:case A.SlicePointer:case A.MultiPointer:case A.CPointer:try{c=i["*"]}catch{c=Symbol.for("inaccessible")}break;case A.Enum:c=he(()=>String(i),{error:n});break;case A.Opaque:c={};break;default:c=he(()=>i.$,{error:n})}if(c=r(c),s.set(i,c),f)for(const[m,b]of f)c[m]=r(b)}return c};return r(e)}function he(e,t={}){const{error:n="throw"}=t;try{return e()}catch(s){if(n==="return")return s;throw s}}function wt(e,t={}){return Ee({get(){return this[J](),this[g]},set(n,s){Ri(n),Zt.call(this,n,e,!0,s,t)}})}function vt(e,t={}){return Ee({get(){return mo(this.dataView)},set(n,s){if(typeof n!="string")throw new be("string",n);const r=po(n);Zt.call(this,r,e,!1,s,t)}})}function hs(e,t={}){const{sentinel:n,instance:{members:s}}=e,{byteSize:r}=s[0];return Ee({get(){const i=this.dataView,o=r===1?Int8Array:Int16Array,c=new o(i.buffer,i.byteOffset,this.length);let a=Kt(c,`utf-${r*8}`);return(n==null?void 0:n.value)!==void 0&&a.charCodeAt(a.length-1)===n.value&&(a=a.slice(0,-1)),a},set(i,o){if(typeof i!="string")throw new be("a string",i);(n==null?void 0:n.value)!==void 0&&i.charCodeAt(i.length-1)!==n.value&&(i=i+String.fromCharCode(n.value));const c=ho(i,`utf-${r*8}`),a=new DataView(c.buffer);Zt.call(this,a,e,!1,o,t)}})}function Nt(e,t={}){const{typedArray:n}=e;return Ee({get(){const s=this.dataView,r=s.byteLength/n.BYTES_PER_ELEMENT;return new n(s.buffer,s.byteOffset,r)},set(s,r){if(!Ui(s,n))throw new be(n.name,s);const i=new DataView(s.buffer,s.byteOffset,s.byteLength);Zt.call(this,i,e,!0,r,t)}})}function Ee({get:e,set:t}){return e.special=t.special=!0,{get:e,set:t}}let dt,fe;function ms(e,t){const{name:n,byteSize:s,align:r,instance:{members:[i]}}=e;if(fe||(fe=class extends vo{},dt=ms({...e,name:"anyerror"},t)),dt&&n==="anyerror")return e.constructor=dt,e.typedArray=Mt(i),dt;const o=fe,{get:c,set:a}=W(i,t),l=["string","number"],u=gt(e),f=function(v){if(v instanceof b[Gt])a.call(this,v);else if(v&&typeof v=="object"&&!Ht(v)){if(u.call(this,v)===0)throw new zt(e,l,v)}else v!==void 0&&a.call(this,v)},m=function(v){if(typeof v=="number"||typeof v=="string")return b[v];if(v instanceof b[Gt])return b[Number(v)];if(Ht(v))return b[`Error: ${v.error}`];if(Oe(e,v,t))return!1;throw new zt(e,l,v)},b=e.constructor=mt(e,{initializer:f,alternateCaster:m},t),S=e.typedArray=Mt(i),h={$:{get:c,set:a},dataView:wt(e),base64:vt(e),typedArray:S&&Nt(e),valueOf:{value:rt},toJSON:{value:at},delete:{value:St(t)},[_]:{value:tt(s)},[Z]:{value:$t}},d={[N]:{value:r},[Q]:{value:s},[Gt]:{value:o},[xt]:n==="anyerror"?{value:[]}:void 0,[X]:{value:e.type}};return ht(b,h,d,t)}function go(e,t,n){const s=n[Se]("number");let r=dt[s];if(!r){const c=e[Gt];r=new c(t,s)}const i=String(r),o={[s]:{value:r},[i]:{value:r},[t]:{value:r}};H(e,o),H(dt,o),dt[xt].push(t)}function wo(){fe=dt=void 0}class vo extends Error{constructor(t,n){super(Yn(t)),this.number=n,this.stack=void 0}[Symbol.toPrimitive](t){switch(t){case"string":case"default":return Error.prototype.toString.call(this,t);default:return this.number}}toJSON(){return{error:this.message}}}function Oo(e,t){const n=(s,{methods:r},i)=>{const o={},c=/^(get|set)\s+([\s\S]+)/;for(const a of r){const l=t.createCaller(a,i),u=c.exec(l.name);if(u){const f=u[1],m=u[2],b=f==="get"?0:1;if(Ao(a,i)===b){let h=o[m];h||(h=o[m]={configurable:!0,enumerable:!0}),h[f]=l}}else o[l.name]={value:l,configurable:!0,writable:!0}}H(s,o)};n(e.constructor,e.static,!1),n(e.constructor.prototype,e.instance,!0)}function Ao(e,t){const{argStruct:{instance:{members:n}}}=e;return n.length-(t?2:1)}function Eo(e,t){const{byteSize:n,align:s,instance:{members:[r]}}=e,{get:i,set:o}=W(r,t),c=["string","number","tagged union"],a=gt(e),l=function(d){if(d&&typeof d=="object"){if(a.call(this,d)===0)throw new zt(e,c,d)}else d!==void 0&&o.call(this,d)},u=function(d){if(typeof d=="string"||typeof d=="number"||typeof d=="bigint"){let v=f[d];return v||f[rs]&&typeof d!="string"&&(v=new f(void 0),o.call(v,d,"number"),ps(f,`${d}`,v)),v}else{if(d instanceof f)return d;if((d==null?void 0:d[_n])instanceof f)return d[_n];if(Oe(e,d,t))return!1;throw new zt(e,c,d)}},f=e.constructor=mt(e,{initializer:l,alternateCaster:u},t),m=e.typedArray=Mt(r),b=function(d){switch(d){case"string":case"default":return this.$[Qn];default:return i.call(this,"number")}},S={$:{get:i,set:o},dataView:wt(e),base64:vt(e),typedArray:m&&Nt(e),valueOf:{value:rt},toString:{value:rt},toJSON:{value:at},delete:{value:St(t)},[Symbol.toPrimitive]:{value:b},[_]:{value:tt(n)},[Z]:{value:$t}},h={[N]:{value:s},[Q]:{value:n},[X]:{value:e.type}};return ht(f,S,h,t)}function ps(e,t,n){if(t!==void 0){if(n instanceof e){H(n,{[Qn]:{value:t}});const s=n[Symbol.toPrimitive]();H(e,{[s]:{value:n},[t]:{value:n}})}}else H(e,{[rs]:{value:!0}})}function ds(e,t){const{name:n,type:s,byteSize:r,align:i,instance:{members:[o]},isConst:c}=e,{runtimeSafety:a=!0}=t,{structure:l}=o,{type:u,sentinel:f,byteSize:m=1}=l,b=s===A.SlicePointer,S=b?r/2:r,{get:h,set:d}=W({type:P.Uint,bitOffset:0,bitSize:S*8,byteSize:S,structure:{byteSize:S}},t),{get:v,set:O}=b?W({type:P.Uint,bitOffset:S*8,bitSize:S*8,byteSize:S,structure:{name:"usize",byteSize:S}},t):{},C=function(p=!0,I=!0){if(p||this[g][j])if(I){const R=h.call(this),Y=b?v.call(this):f!=null&&f.isRequired?t.findSentinel(R,f.bytes)+1:1;if(R!==this[ue]||Y!==this[Et]){const L=l.constructor,B=t.findMemory(R,Y,L[Q]),pt=B?L.call(Jt,B):null;return this[V][0]=pt,this[ue]=R,this[Et]=Y,b&&(this[le]=void 0),pt}}else return this[V][0]=void 0;return this[V][0]},z=function(p){d.call(this,p),this[ue]=p},T=b||f?function(p){var I;(I=O==null?void 0:O.call)==null||I.call(O,this,p),this[Et]=p}:null,q=function(){const p=this[Pt]??this,I=C.call(p,!1);if(!I){if(s===A.CPointer)return null;throw new Zr}return c?bs(I):I},$=function(p){if(p===void 0)return;const I=this[Pt]??this;if(p){if(p[g][j]){const R=t.getViewAddress(p[g]);z.call(this,R),b&&T.call(this,p.length)}else if(I[g][j])throw new ti(e,p)}else I[g][j]&&(z.call(this,0),b&&T.call(this,0));I[V][0]=p??null,b&&(I[le]=void 0)},kt=on(l)?function(){return q.call(this)[Se]()}:q,Ue=c?_t:function(p){return q.call(this)[ge](p)},Ct=function(){const p=q.call(this);return p?p.length:0},Ne=function(p){p=p|0;const I=q.call(this);if(!I){if(p!==0)throw new $n(p,0);return}const R=I[g],Y=R[j],L=R.buffer.byteLength-R.byteOffset;let B;if(Y||(b?(B=this[le],B===void 0&&(B=this[le]=I.length)):B=L/m|0),p<0||p>B)throw new $n(p,B);const pt=p*m,Le=pt<=L?t.obtainView(R.buffer,R.byteOffset,pt):t.obtainFixedView(Y.address,pt),Lt=l.constructor;this[V][0]=Lt.call(Jt,Le),b&&(T==null||T.call(this,p))},Be=function(p,I){const R=l.constructor;if(this===Jt||this===tn||p instanceof lt)return!1;if(Ze(p,R))return new lt(R(p["*"]),I);if(Ln(p,R,s))return new lt(p);if(u===A.Slice)return new lt(R(p),I);throw new Hr(e)},E=function(){const p=Mn(u)?{}:Po,I=new Proxy(this,p);return Object.defineProperty(this,ve,{value:I}),I},D=function(p){var R,Y;const I=l.constructor;if(Ze(p,I)){if(!c&&p.constructor.const)throw new Yr(e,p);p=p[V][0]}else if(s!=A.SinglePointer)Ln(p,I,s)&&(p=I(p[V][0][g]));else if(n==="*anyopaque"&&p){if(Mn(p.constructor[X]))p=(R=p["*"])==null?void 0:R[g];else if(p[g])p=p[g];else if((p==null?void 0:p.buffer)instanceof ArrayBuffer&&!(p instanceof Uint8Array||p instanceof DataView)){const{byteOffset:L,byteLength:B}=p;L!==void 0&&B!==void 0&&(p=new DataView(p.buffer,L,B))}}if(p instanceof I){p[J]();const L=p[Vt];if(L)if(c)p=L;else throw new ri(e)}else if(s===A.CPointer&&p instanceof I.child)p=I(p[g]);else if(Ni(p,I)){const L=Oe(l,p,t);p=I(L)}else if(p!=null&&!p[g]){if(s===A.CPointer&&typeof p=="object"&&!p[Symbol.iterator]){let B=!0;const pt=I.prototype[we];for(const Le of Object.keys(p)){const Lt=pt[Le];if(Lt!=null&&Lt.special){B=!1;break}}B&&(p=[p])}const L=new I(p,{fixed:!!this[g][j]});if(a&&l.typedArray){const B=(Y=p==null?void 0:p.buffer)==null?void 0:Y[Symbol.toStringTag];(B==="ArrayBuffer"||B==="SharedArrayBuffer")&&oi(l,p)}p=L}else if(p!==void 0&&(s!==A.CPointer||p!==null))throw new Qr(e,p);this[Ke](p)},G=u===A.Primitive?function(p){return this[nt]()[Symbol.toPrimitive](p)}:null,ct=u===A.Slice?function(p,I){const Y=this[nt]().slice(p,I);return new lt(Y)}:null,Ot=u===A.Slice?function(p,I,R){const L=this[nt]().subarray(p,I,R);return new lt(L)}:null,lt=e.constructor=mt(e,{initializer:D,alternateCaster:Be,finalizer:E},t),ce={"*":{get:kt,set:Ue},$:{get:ln,set:D},length:{get:Ct,set:Ne},valueOf:{value:rt},toJSON:{value:at},delete:{value:zo},slice:ct&&{value:ct},subarray:Ot&&{value:Ot},[Symbol.toPrimitive]:G&&{value:G},[nt]:{value:q},[Ke]:{value:$},[es]:{value:C},[He]:{value:z},[Ye]:T&&{value:T},[F]:{value:Io},[_]:{value:tt(r)},[Z]:{value:To},[ue]:{value:void 0,writable:!0},[Et]:T&&{value:void 0,writable:!0}},Dr={child:{get:()=>l.constructor},const:{value:c},[N]:{value:i},[Q]:{value:r},[X]:{value:e.type}};return ht(lt,ce,Dr,t)}function To(){const e=this[Pt],t=Object.getOwnPropertyDescriptor(e.constructor.prototype,"$");t.set=_t,Object.defineProperty(e,"$",t),Object.defineProperty(e,Vt,{value:e})}function zo(){const e=this[nt]();e==null||e.delete()}function ln(){return this[ve]}function xo({isActive:e}){this[V][0]&&!e(this)&&(this[V][0]=void 0)}function Io(e,t={}){const{source:n,isActive:s=ut,isMutable:r=ut}=t;e.call(this,{source:n,isActive:s,isMutable:r})}function Ze(e,t){var n;return((n=e==null?void 0:e.constructor)==null?void 0:n.child)===t&&e["*"]}function Ln(e,t,n){var s,r;if(n!==A.SinglePointer){if(((r=(s=e==null?void 0:e.constructor)==null?void 0:s.child)==null?void 0:r.child)===t.child&&e["*"])return!0;if(n===A.CPointer&&Ze(e,t.child))return!0}return!1}function bs(e){let t=e[qe];return t||(Object.defineProperty(e,qe,{value:void 0,configurable:!0}),t=new Proxy(e,Vo),Object.defineProperty(e,qe,{value:t})),t}const Po={get(e,t){return t===Pt?e:t in e?e[t]:e[nt]()[t]},set(e,t,n){if(t in e)e[t]=n;else{const s=e[nt]();s[t]=n}return!0},deleteProperty(e,t){if(t in e)delete e[t];else{const n=e[nt]();delete n[t]}return!0},has(e,t){if(t in e)return!0;{const n=e[nt]();return t in n}}},Vo={get(e,t){if(t===Vt)return e;{const n=e[t];return(n==null?void 0:n[Vt])===null?bs(n):n}},set(e,t,n){const s=e[Pt];return s&&!(t in s)?e[t]=n:_t(),!0}};function ut(){return!0}function Mo(e,t){const{length:n,byteSize:s,align:r,instance:{members:[i]}}=e,{bitSize:o,structure:c}=i,a={};for(let h=0,d=0;h<n;h++,d+=o){const{get:v,set:O}=W({...i,bitOffset:d},t);a[h]={get:v,set:O,configurable:!0}}const l=gt(e),u=function(h){if(h instanceof f)this[_](h);else if(h!=null&&h[Symbol.iterator]){let d=h.length;if(typeof d!="number"&&(h=[...h],d=h.length),d!==n)throw new de(e,this,h);let v=0;for(const O of h)this[we][v++].call(this,O)}else if(h&&typeof h=="object"){if(l.call(this,h)===0)throw new Tt(e,h)}else if(h!==void 0)throw new Tt(e,h)},f=e.constructor=mt(e,{initializer:u},t),m=e.typedArray=Mt(i),b={...a,$:{get:fs,set:u},length:{value:n},dataView:wt(e),base64:vt(e),typedArray:m&&Nt(e),valueOf:{value:rt},toJSON:{value:at},entries:{value:me},delete:{value:St(e)},[Symbol.iterator]:{value:Ss},[It]:{value:me},[_]:{value:tt(s)},[Z]:{value:$t}},S={child:{get:()=>c.constructor},[Xt]:{value:Ae(e)},[N]:{value:r},[Q]:{value:s},[X]:{value:e.type}};return ht(f,b,S,t)}function Ss(){const e=this,t=this.length;let n=0;return{next(){let s,r;if(n<t){const i=n++;s=e[i],r=!1}else r=!0;return{value:s,done:r}}}}function $o(){const e=this,t=this.length;let n=0;return{next(){let s,r;if(n<t){const i=n++;s=[i,e[i]],r=!1}else r=!0;return{value:s,done:r}}}}function me(){return{[Symbol.iterator]:$o.bind(this),length:this.length}}function ko(e,t){const{byteSize:n,align:s,instance:{members:r},isTuple:i,isIterator:o,hasPointer:c}=e,a={},l=r.filter(T=>!!T.name),u=r.find(T=>!T.name);for(const T of l){const{get:q,set:$}=W(T,t);a[T.name]={get:q,set:$,configurable:!0,enumerable:!0},T.isRequired&&$&&($.required=!0)}const f=u?W(u,t):null,m=!!r.find(T=>T.type===P.Object),b=gt(e),S=function(T){if(T instanceof h)this[_](T),c&&this[F](Qt,{vivificate:!0,source:T});else if(T&&typeof T=="object")b.call(this,T);else if((typeof T=="number"||typeof T=="bigint")&&f)f.set.call(this,T);else if(T!==void 0)throw new zt(e,"object",T)},h=e.constructor=mt(e,{initializer:S},t),d=f?function(T){switch(T){case"string":return Object.prototype.toString.call(this);default:return f.get.call(this)}}:null,v=i&&r.length>0?parseInt(r[r.length-1].name)+1:0,O=o?Co:i?Ss:gs,C={$:{get:fs,set:S},dataView:wt(e),base64:vt(e),length:i&&{value:v},valueOf:{value:rt},toJSON:{value:at},delete:{value:St(t)},entries:i&&{value:me},...a,[Symbol.iterator]:{value:O},[Symbol.toPrimitive]:f&&{value:d},[It]:{value:i?me:un},[_]:{value:tt(n)},[st]:m&&{value:fn(e,t)},[F]:c&&{value:yn(e,ut)},[Z]:{value:$t},[xt]:{value:l.map(T=>T.name)}},z={[N]:{value:s},[Q]:{value:n},[X]:{value:e.type},[ts]:{value:i}};return ht(h,C,z,t)}function un(e){return{[Symbol.iterator]:Do.bind(this,e),length:this[xt].length}}function Co(){const e=this;return{next(){const t=e.next();return{value:t,done:t===null}}}}function gs(e){return un.call(this,e)[Symbol.iterator]()}function Do(e){const t=this,n=this[xt];let s=0;return{next(){let r,i;if(s<n.length){const o=n[s++];r=[o,he(()=>t[o],e)],i=!1}else i=!0;return{value:r,done:i}}}}function fn(e,t){const{instance:{members:n}}=e,s={};for(const r of n.filter(i=>i.type===P.Object))s[r.slot]=r;return function(i){const o=s[i],{bitOffset:c,byteSize:a,structure:{constructor:l}}=o,u=this[g],m=u.byteOffset+(c>>3);let b=a;if(b===void 0){if(c&7)throw new ni(o);b=o.bitSize>>3}const S=t.obtainView(u.buffer,m,b);return this[V][i]=l.call(tn,S)}}function yn(e,t={}){const{isChildActive:n=ut,isChildMutable:s=ut}=t,{instance:{members:r}}=e,i=r.filter(o=>{var c;return(c=o.structure)==null?void 0:c.hasPointer});return function(c,a={}){var S;const{source:l,vivificate:u=!1,isActive:f=ut,isMutable:m=ut}=a,b={...a,isActive:h=>f(this)&&n.call(this,h),isMutable:h=>m(this)&&s.call(this,h)};for(const{slot:h}of i){if(l){const v=(S=l[V])==null?void 0:S[h];if(!v)continue;b.source=v}const d=this[V][h]??(u?this[st](h):null);d&&d[F](c,b)}}}function jo(e,t){const{type:n,constructor:s,static:{members:r,template:i}}=e,o={};for(const c of r)o[c.name]=W(c,t);if(H(s,{valueOf:{value:rt},toJSON:{value:at},...o,[Symbol.iterator]:{value:gs},[It]:{value:un},[V]:i&&{value:i[V]},[xt]:!s[xt]&&{value:r.map(c=>c.name)}}),n===A.Enum)for(const{name:c,slot:a}of r)ps(s,c,s[V][a]);else if(n===A.ErrorSet)for(const{name:c,slot:a}of r)go(s,c,s[V][a])}function _o(e,t){const{byteSize:n,align:s,instance:{members:r},hasPointer:i}=e,o=!!r.find(S=>S.type===P.Object),c=r.slice(1).map(S=>S.name),a=c.length,l=e.constructor=function(S,h,d){const v=t.allocateMemory(n,s);if(this[g]=v,o&&(this[V]={}),S.length!==a)throw new Kr(h,a-d,S.length-d);for(const[O,C]of c.entries())try{this[C]=S[O]}catch(z){throw ii(h,O-d,a-d,z)}},u={};for(const S of r)u[S.name]=W(S,t);const{slot:f,type:m}=r[0],b=m===P.Object?function(S){const h=this[st](f);return S===h}:function(){return!1};return H(l.prototype,{...u,[_]:{value:tt(n)},[st]:o&&{value:fn(e,t)},[F]:i&&{value:yn(e,{isChildMutable:b})},[J]:{value:an(null,t)}}),H(l,{[N]:{value:s},[Q]:{value:n}}),l}function Ro(e,t){const{length:n,byteSize:s,align:r,instance:{members:[i]},hasPointer:o}=e,{get:c,set:a}=W(i,t),l=Os(i),u=gt(e),f=function(O){if(O instanceof b)this[_](O),o&&this[F](Qt,{vivificate:!0,source:O});else if(typeof O=="string"&&l&&(O={string:O}),O!=null&&O[Symbol.iterator]){if(O=zs(O),O.length!==n)throw new de(e,this,O);let C=0;for(const z of O)a.call(this,C++,z)}else if(O&&typeof O=="object"){if(u.call(this,O)===0)throw new Tt(e,O)}else if(O!==void 0)throw new Tt(e,O)},m=ws,b=e.constructor=mt(e,{initializer:f,finalizer:m},t),S=e.typedArray=Mt(i),h=i.type===P.Object,d={$:{get:ln,set:f},length:{value:n},dataView:wt(e),base64:vt(e),string:l&&hs(e),typedArray:S&&Nt(e),get:{value:c},set:{value:a},entries:{value:pe},valueOf:{value:rt},toJSON:{value:at},delete:{value:St(t)},[Symbol.iterator]:{value:As},[It]:{value:pe},[_]:{value:tt(s)},[st]:h&&{value:Es(e,t)},[F]:o&&{value:Ts()},[Z]:{value:vs}},v={child:{get:()=>i.structure.constructor},[Xt]:{value:Ae(e)},[N]:{value:r},[Q]:{value:s},[X]:{value:e.type}};return ht(b,d,v,t)}function ws(){const e=new Proxy(this,Uo);return Object.defineProperty(this,ve,{value:e}),e}function vs(){$t.call(this),Object.defineProperty(this,"set",{value:_t});const e=this.get;Object.defineProperty(this,"get",{value:function(n){var r;const s=e.call(this,n);return(s==null?void 0:s[Vt])===null&&((r=s[Z])==null||r.call(s)),s}})}function Os(e){return e.type===P.Uint&&[8,16].includes(e.bitSize)}function As(){const e=this[en]??this,t=this.length;let n=0;return{next(){let s,r;if(n<t){const i=n++;s=e.get(i),r=!1}else r=!0;return{value:s,done:r}}}}function Fo(e){const t=this[en]??this,n=this.length;let s=0;return{next(){let r,i;if(s<n){const o=s++;r=[o,he(()=>t.get(o),e)],i=!1}else i=!0;return{value:r,done:i}}}}function pe(e){return{[Symbol.iterator]:Fo.bind(this,e),length:this.length}}function Es(e,t){const{instance:{members:[n]}}=e,{byteSize:s,structure:r}=n;return function(o){const{constructor:c}=r,a=this[g],u=a.byteOffset+s*o,f=t.obtainView(a.buffer,u,s);return this[V][o]=c.call(tn,f)}}function Ts(e){return function(n,s={}){const{source:r,vivificate:i=!1,isActive:o=ut,isMutable:c=ut}=s,a={...s,isActive:()=>o(this),isMutable:()=>c(this)};for(let l=0,u=this.length;l<u;l++){r&&(a.source=r==null?void 0:r[V][l]);const f=this[V][l]??(i?this[st](l):null);f&&f[F](n,a)}}}function zs(e){var r;if(typeof e.length=="number")return e;const t=e[Symbol.iterator](),n=t.next(),s=(r=n.value)==null?void 0:r.length;if(typeof s=="number"&&Object.keys(n.value).join()==="length")return Object.assign(function*(){let i;for(;!(i=t.next()).done;)yield i.value}(),{length:s});{const i=[];let o=n;for(;!o.done;)i.push(o.value),o=t.next();return i}}const Uo={get(e,t){const n=typeof t=="symbol"?0:t|0;if(n!==0||n==t)return e.get(n);switch(t){case"get":return e[qt]||(e[qt]=e.get.bind(e)),e[qt];case"set":return e[Wt]||(e[Wt]=e.set.bind(e)),e[Wt];case en:return e;default:return e[t]}},set(e,t,n){const s=typeof t=="symbol"?0:t|0;if(s!==0||s==t)e.set(s,n);else switch(t){case"get":e[qt]=n;break;case"set":e[Wt]=n;break;default:e[t]=n}return!0},deleteProperty(e,t){const n=typeof t=="symbol"?0:t|0;if(n!==0||n==t)return!1;switch(t){case"get":delete e[qt];break;case"set":delete e[Wt];break;default:delete e[t]}return!0},has(e,t){const n=typeof t=="symbol"?0:t|0;return n!==0||n==t?n>=0&&n<e.length:e[t]},ownKeys(e){const t=[];for(let n=0,s=e.length;n<s;n++)t.push(`${n}`);return t.push("length",ve),t},getOwnPropertyDescriptor(e,t){const n=typeof t=="symbol"?0:t|0;if(n!==0||n==t){if(n>=0&&n<e.length)return{value:e.get(n),enumerable:!0,writable:!0,configurable:!0}}else return Object.getOwnPropertyDescriptor(e,t)}};function No(e,t){const{byteSize:n,align:s,instance:{members:r},hasPointer:i}=e,{get:o,set:c}=W(r[0],t),{get:a,set:l}=W(r[1],t),u=function(){if(a.call(this,"number"))throw a.call(this);return o.call(this)},f=r[0].type===P.Void,m=r[1].structure.constructor,b=function(){return!a.call(this,"number")},S=function(){var $;this[Rn](),($=this[F])==null||$.call(this,xo)},h=!!r.find($=>$.type===P.Object),d=gt(e),v=function($){if($ instanceof O)this[_]($),i&&b.call(this)&&this[F](Qt,{vivificate:!0,source:$});else if($ instanceof m[Gt]&&m($))l.call(this,$),S.call(this);else if($!==void 0||f)try{c.call(this,$),l.call(this,0,"number")}catch(kt){if($ instanceof Error)throw new Kn(e);if(Ht($))l.call(this,$),S.call(this);else if($&&typeof $=="object"){if(d.call(this,$)===0)throw kt}else throw kt}},O=e.constructor=mt(e,{initializer:v},t),{bitOffset:C,byteSize:z}=r[0],T={$:{get:u,set:v},dataView:wt(e),base64:vt(e),valueOf:{value:rt},toJSON:{value:at},delete:{value:St(t)},[_]:{value:tt(n)},[Rn]:{value:Oi(C/8,z)},[st]:h&&{value:fn(e,t)},[F]:i&&{value:yn(e,{isChildActive:b})},[Z]:{value:$t}},q={[N]:{value:s},[Q]:{value:n},[X]:{value:e.type}};return ht(O,T,q,t)}function Bo(e,t){const{byteSize:n,align:s,instance:{members:[r]}}=e,{get:i,set:o}=W(r,t),c=gt(e),a=function(b){if(b instanceof l)this[_](b);else if(b&&typeof b=="object"){if(c.call(this,b)===0){const S=Wn(r);throw new zt(e,S,b)}}else b!==void 0&&o.call(this,b)},l=e.constructor=mt(e,{initializer:a},t),u=e.typedArray=Mt(r),f={$:{get:i,set:o},dataView:wt(e),base64:vt(e),typedArray:u&&Nt(e),valueOf:{value:rt},toJSON:{value:at},delete:{value:St(t)},[Symbol.toPrimitive]:{value:i},[_]:{value:tt(n)},[Z]:{value:$t}},m={[Xt]:{value:Ae(e)},[N]:{value:s},[Q]:{value:n},[ci]:{value:r.bitSize},[X]:{value:e.type},[li]:{value:r.type}};return ht(l,f,m,t)}function Lo(e,t){const{align:n,instance:{members:[s]},byteSize:r,hasPointer:i}=e,{get:o,set:c}=W(s,t),{byteSize:a,structure:l}=s,u=qo(e,t);u&&(e.sentinel=u);const f=Os(s),m=function(E,D,G=!1){E||(E=t.allocateMemory(D*a,n,G)),this[g]=E,this[Et]=D},b=function(E,D){if(D!==this[Et])throw new de(e,this,E)},S=gt(e),h=function(E,D=!1){if(E instanceof $)this[g]?b.call(this,E,E.length):m.call(this,null,E.length,D),this[_](E),i&&this[F](Qt,{vivificate:!0,source:E});else if(typeof E=="string"&&f)h.call(this,{string:E},D);else if(E!=null&&E[Symbol.iterator]){E=zs(E),this[g]?b.call(this,E,E.length):m.call(this,null,E.length,D);let G=0;for(const ct of E)u==null||u.validateValue(ct,G,E.length),c.call(this,G++,ct)}else if(typeof E=="number")if(!this[g]&&E>=0&&isFinite(E))m.call(this,null,E,D);else throw new Tt(e,E,!this[g]);else if(E&&typeof E=="object"){if(S.call(this,E,D)===0)throw new Tt(e,E)}else if(E!==void 0)throw new Tt(e,E)},d=function(){return this[Et]},v=function(E,D){return E=E|0,E<0?(E=D+E,E<0&&(E=0)):E>D&&(E=D),E};function O(E,D){E=E===void 0?0:v(E,this.length),D=D===void 0?this.length:v(D,this.length);const G=this[g],ct=E*a,Ot=D*a-ct;return t.obtainView(G.buffer,G.byteOffset+ct,Ot)}function C(E,D){const G=O.call(this,E,D);return $(G)}const z=function(E,D,G={}){const{fixed:ct=!1}=G,Ot=O.call(this,E,D),lt=t.allocateMemory(Ot.byteLength,n,ct),ce=$(lt);return q.call(ce,{[g]:Ot}),ce},T=ws,q=tt(a,!0),$=e.constructor=mt(e,{initializer:h,shapeDefiner:m,finalizer:T},t),kt=e.typedArray=Mt(s),Ue=s.type===P.Object,Ct={shapeDefiner:m},Ne={$:{get:ln,set:h},length:{get:d},dataView:wt(e,Ct),base64:vt(e,Ct),string:f&&hs(e,Ct),typedArray:kt&&Nt(e,Ct),get:{value:o},set:{value:c},entries:{value:pe},slice:{value:z},subarray:{value:C},valueOf:{value:rt},toJSON:{value:at},delete:{value:St(t)},[Symbol.iterator]:{value:As},[It]:{value:pe},[_]:{value:q},[st]:Ue&&{value:Es(e,t)},[F]:i&&{value:Ts()},[Z]:{value:vs}},Be={child:{get:()=>l.constructor},[Xt]:{value:Ae(e)},[N]:{value:n},[Q]:{value:r},[X]:{value:e.type}};return ht($,Ne,Be,t)}function qo(e,t){const{runtimeSafety:n=!0}=t,{byteSize:s,instance:{members:[r,i],template:o}}=e;if(!i)return;const{get:c}=W(i,t),a=c.call(o,0),{get:l}=W(r,t),{isRequired:u}=i,f=u?n?function(S,h,d){if(S===a&&h!==d-1)throw new kn(e,S,h,d);if(S!==a&&h===d-1)throw new ae(e,a,h,d)}:function(S,h,d){if(S!==a&&h===d-1)throw new ae(e,a,d)}:function(){},m=u?n?function(S,h){for(let d=0;d<h;d++){const v=l.call(S,d);if(v===a&&d!==h-1)throw new kn(e,a,d,h);if(v!==a&&d===h-1)throw new ae(e,a,h)}}:function(S,h){if(h*s===S[g].byteLength){const d=h-1;if(l.call(S,d)!==a)throw new ae(e,a,h)}}:function(){},b=o[g];return{value:a,bytes:b,validateValue:f,validateData:m,isRequired:u}}const et=Array(Object.values(A).length);function Wo(){et[A.Primitive]=Bo}function Go(){et[A.Array]=Ro}function Jo(){et[A.Struct]=ko}function Ko(){et[A.ArgStruct]=_o}function Ho(){et[A.ErrorUnion]=No}function Yo(){et[A.ErrorSet]=ms,Qi()}function Xo(){et[A.Enum]=Eo,Zi()}function Zo(){et[A.SinglePointer]=ds,sn()}function Qo(){et[A.SlicePointer]=ds,sn()}function tc(){et[A.Slice]=Lo}function ec(){et[A.Vector]=Mo}function nc(e){return et[e]}class sc{constructor(){k(this,"context");k(this,"contextStack",[]);k(this,"consolePending",[]);k(this,"consoleTimeout",0);k(this,"viewMap",new WeakMap);k(this,"emptyBuffer",new ArrayBuffer(0));k(this,"abandoned",!1);k(this,"released",!1);k(this,"littleEndian",!0);k(this,"wordSize",4);k(this,"runtimeSafety",!0);k(this,"comptime",!1);k(this,"variables",[]);k(this,"imports");k(this,"console",globalThis.console)}startContext(){this.context&&this.contextStack.push(this.context),this.context=new rc}endContext(){this.context=this.contextStack.pop()}allocateMemory(t,n=0,s=!1){return s?this.allocateFixedMemory(t,n):this.allocateRelocMemory(t,n)}allocateFixedMemory(t,n,s=Ge.Normal){const r=t?this.allocateExternMemory(s,t,n):0,i=this.obtainFixedView(r,t);return i[j].align=n,i[j].type=s,i}freeFixedMemory(t){const{address:n,unalignedAddress:s,len:r,align:i,type:o}=t[j];r&&this.freeExternMemory(o,s??n,r,i)}obtainFixedView(t,n){let s;if(t&&n)s=this.obtainExternView(t,n);else{let r=this.viewMap.get(this.emptyBuffer);r||this.viewMap.set(this.emptyBuffer,r={});const i=`${t}:0`;s=r[i],s||(s=r[i]=new DataView(this.emptyBuffer),s[j]={address:t,len:0})}return s}releaseFixedView(t){var n;((n=t[j])==null?void 0:n.type)!==void 0&&(this.freeFixedMemory(t),t[j]=null)}allocateRelocMemory(t,n){return this.obtainView(new ArrayBuffer(t),0,t)}registerMemory(t,n=null,s=void 0){const{memoryList:r}=this.context,i=this.getViewAddress(t),o=We(r,i);return r.splice(o,0,{address:i,dv:t,len:t.byteLength,targetDV:n,targetAlign:s}),i}unregisterMemory(t){const{memoryList:n}=this.context,s=We(n,t),r=n[s-1];if((r==null?void 0:r.address)===t)return n.splice(s-1,1),r.dv}findMemory(t,n,s){if(cc(t))if(!n)t=0;else return null;else if(!t&&n)return null;let r=n*(s??0);if(this.context){const{memoryList:i}=this.context,o=We(i,t),c=i[o-1];if((c==null?void 0:c.address)===t&&c.len===r)return c.targetDV??c.dv;if((c==null?void 0:c.address)<=t&&t<At(c.address,c.len)){const a=Number(t-c.address),l=c.targetDV??c.dv,u=s===void 0;u&&(r=l.byteLength-a);const f=this.obtainView(l.buffer,l.byteOffset+a,r);return u&&(f[N]=c.targetAlign),f}}return this.obtainFixedView(t,r)}getViewAddress(t){const n=t[j];if(n)return n.address;{const s=this.getBufferAddress(t.buffer);return At(s,t.byteOffset)}}findViewAt(t,n,s){let r=this.viewMap.get(t),i;if(r)if(r instanceof DataView)if(r.byteOffset===n&&r.byteLength===s)i=r;else{const o=r;r={[`${o.byteOffset}:${o.byteLength}`]:o},this.viewMap.set(t,r)}else i=r[`${n}:${s}`];return{existing:i,entry:r}}obtainView(t,n,s){const{existing:r,entry:i}=this.findViewAt(t,n,s);let o;if(r)return r;i?o=i[`${n}:${s}`]=new DataView(t,n,s):this.viewMap.set(t,o=new DataView(t,n,s));const c=t[j];return c&&(o[j]={address:At(c.address,n),len:s}),o}registerView(t){if(!t[j]){const{buffer:n,byteOffset:s,byteLength:r}=t,{existing:i,entry:o}=this.findViewAt(n,s,r);if(i)return i;o?o[`${s}:${r}`]=t:this.viewMap.set(n,t)}return t}captureView(t,n,s){if(s){const r=this.allocateRelocMemory(n,0);return n>0&&this.copyBytes(r,t,n),r}else return this.obtainFixedView(t,n)}castView(t,n,s,r){const{constructor:i,hasPointer:o}=r,c=this.captureView(t,n,s),a=i.call(Jt,c);return o&&this.updatePointerTargets(a),s&&a[Z](),a}finalizeShape(t){const s=nc(t.type)(t,this);typeof s=="function"&&(H(s,{name:{value:t.name,configurable:!0}}),s.prototype.hasOwnProperty(Symbol.toStringTag)||H(s.prototype,{[Symbol.toStringTag]:{value:t.name,configurable:!0}}))}finalizeStructure(t){jo(t,this),Oo(t,this)}createCaller(t,n){const{name:s,argStruct:r,thunkId:i}=t,{constructor:o}=r,c=this;let a;return n?a=function(...l){return c.invokeThunk(i,new o([this,...l],s,1))}:a=function(...l){return c.invokeThunk(i,new o(l,s,0))},Object.defineProperty(a,"name",{value:s}),a}recreateStructures(t,n){Object.assign(this,n);const s=(o,c)=>{for(const[a,l]of Object.entries(c))o[a]=r(l);return o},r=o=>{var u;const{memory:c,structure:a,actual:l}=o;if(c){if(l)return l;{const{array:f,offset:m,length:b}=c,S=this.obtainView(f.buffer,m,b),{constructor:h}=a,{reloc:d,const:v}=o,O=o.actual=h.call(Jt,S);return v&&((u=O[Z])==null||u.call(O)),o.slots&&s(O[V],o.slots),d!==void 0&&this.variables.push({reloc:d,object:O}),O}}else return a};wo();const i=new Map;for(const o of t){for(const c of[o.instance,o.static])if(c.template){const a=c.template,l=c.template={};if(a.memory){const{array:u,offset:f,length:m}=a.memory;l[g]=this.obtainView(u.buffer,f,m)}if(a.slots){const u=l[V]={};i.set(u,a.slots)}}this.finalizeShape(o)}for(const[o,c]of i)s(o,c);for(const o of t)this.finalizeStructure(o)}linkVariables(t){var s;const n=[];for(const{object:r,reloc:i}of this.variables)this.linkObject(r,i,t),r[nt]&&r[V][0]&&n.push(r);for(const r of n){const i=r[nt](),o=this.getViewAddress(i[g]);r[He](o),(s=r[Ye])==null||s.call(r,i.length)}}linkObject(t,n,s){if(t[g][j])return;const r=t[g],i=this.recreateAddress(n),o=this.obtainFixedView(i,r.byteLength);if(s){const a=Object.create(t.constructor.prototype);a[g]=o,a[_](t)}t[g]=o;const c=a=>{if(a[V]){for(const l of Object.values(a[V]))if(l){const u=l[g];if(u.buffer===r.buffer){const f=u.byteOffset-r.byteOffset;l[g]=this.obtainView(o.buffer,f,u.byteLength),c(l)}}}};c(t)}unlinkVariables(){for(const{object:t}of this.variables)this.unlinkObject(t)}unlinkObject(t){if(!t[g][j])return;t[J]();const n=t[g],s=this.allocateMemory(n.byteLength),r=Object.create(t.constructor.prototype);r[g]=s,r[_](t),t[g]=s}releaseFunctions(){const t=()=>{throw new Error("Module was abandoned")};for(const n of Object.keys(this.imports))this[n]&&(this[n]=t)}getSpecialExports(){const t=n=>{if(n===void 0)throw new Error("Not a Zig type");return n};return{init:(...n)=>this.init(...n),abandon:()=>this.abandon(),released:()=>this.released,connect:n=>this.console=n,sizeOf:n=>t(n[Q]),alignOf:n=>t(n[N]),typeOf:n=>Rr(t(n[X]))}}abandon(){this.abandoned||(this.releaseFunctions(),this.unlinkVariables(),this.abandoned=!0)}updatePointerAddresses(t){var a;const n=new Map,s=new Map,r=[],i=function({isActive:l}){var u;if(l(this)){const f=this[Pt];if(!n.get(f)){const m=f[V][0];if(m){n.set(f,m);const b=m[g];if(!b[j]){const S=s.get(b.buffer);if(S){const h=Array.isArray(S)?S:[S],d=xs(h,b.byteOffset,v=>v[g].byteOffset);h.splice(d,0,m),Array.isArray(S)||(s.set(b.buffer,h),r.push(h))}else s.set(b.buffer,m);(u=m[F])==null||u.call(m,i)}}}}};t[F](i);const o=this.findTargetClusters(r),c=new Map;for(const l of o)for(const u of l.targets)c.set(u,l);for(const[l,u]of n){const f=c.get(u),m=this.getTargetAddress(u,f)??this.getShadowAddress(u,f);l[He](m),(a=l[Ye])==null||a.call(l,u.length)}}findTargetClusters(t){const n=[];for(const s of t){let r=null,i=0,o=0,c=null;for(const a of s){const l=a[g],{byteOffset:u,byteLength:f}=l,m=u+f;let b=!0;r&&(o>u?(c||(c={targets:[r],start:i,end:o,address:void 0,misaligned:void 0},n.push(c)),c.targets.push(a),m>o?c.end=m:b=!1):c=null),b&&(r=a,i=u,o=m)}}return n}createClusterShadow(t){const{start:n,end:s,targets:r}=t;let i=0,o;for(const v of r){const O=v[g],C=O.byteOffset,z=v.constructor[N]??O[N];(i===void 0||z>i)&&(i=z,o=C)}const c=s-n,a=this.allocateShadowMemory(c+i,1),l=this.getViewAddress(a),u=oc(At(l,o-n),i),f=At(u,n-o),m=a.byteOffset+Number(f-l),b=new DataView(a.buffer,m,c);for(const v of r){const O=v[g],C=O.byteOffset;if(C!==o){const z=v.constructor[N]??O[N];if(ic(At(f,C-n),z))throw new Xr(z,i)}}const S={[_]:tt(c)},h=Object.create(S),d=Object.create(S);return h[g]=new DataView(r[0][g].buffer,Number(n),c),d[g]=b,b[j]={address:f,len:c,align:1,unalignedAddress:l,type:Ge.Scratch},this.addShadow(d,h,1)}getShadowAddress(t,n){if(n){const s=t[g];if(n.address===void 0){const r=this.createClusterShadow(n);n.address=this.getViewAddress(r[g])}return At(n.address,s.byteOffset-n.start)}else{const s=this.createShadow(t);return this.getViewAddress(s[g])}}createShadow(t){const n=t[g],s=t.constructor[N]??n[N],r=Object.create(t.constructor.prototype);return r[g]=this.allocateShadowMemory(n.byteLength,s),this.addShadow(r,t,s)}addShadow(t,n,s){let{shadowMap:r}=this.context;if(r||(r=this.context.shadowMap=new Map),!t[g][j])debugger;return t[J]=an(null,this),r.set(t,n),this.registerMemory(t[g],n[g],s),t}removeShadow(t){const{shadowMap:n}=this.context;if(n){for(const[s]of n)if(s[g]===t){n.delete(s);break}}}updateShadows(){const{shadowMap:t}=this.context;if(t)for(const[n,s]of t)n[_](s)}updateShadowTargets(){const{shadowMap:t}=this.context;if(t)for(const[n,s]of t)s[_](n)}releaseShadows(){const{shadowMap:t}=this.context;if(t)for(const[n]of t)this.freeShadowMemory(n[g])}updatePointerTargets(t){const n=new Map,s=function({isActive:r,isMutable:i}){var c,a;const o=this[Pt]??this;if(!n.get(o)){n.set(o,!0);const l=!o.constructor.const,u=o[V][0],f=!u||i(this)?o[es](!0,r(this)):u;(c=u==null?void 0:u[F])==null||c.call(u,s,{vivificate:!0,isMutable:()=>l}),f!==u&&((a=f==null?void 0:f[F])==null||a.call(f,s,{vivificate:!0,isMutable:()=>l}))}};t[F](s,{vivificate:!0})}writeToConsole(t){const{console:n}=this;try{const s=new Uint8Array(t.buffer,t.byteOffset,t.byteLength).slice(),r=s.lastIndexOf(10);if(r===-1)this.consolePending.push(s);else{const i=s.subarray(0,r),o=s.subarray(r+1),c=[...this.consolePending,i];n.log(Kt(c)),this.consolePending=o.length>0?[o]:[]}clearTimeout(this.consoleTimeout),this.consolePending.length>0&&(this.consoleTimeout=setTimeout(()=>{n.log(Kt(this.consolePending)),this.consolePending=[]},250))}catch(s){n.error(s)}}flushConsole(){this.consolePending.length>0&&(console.log(Kt(this.consolePending)),this.consolePending=[],clearTimeout(this.consoleTimeout))}}class rc{constructor(){k(this,"pointerProcessed",new Map);k(this,"memoryList",[]);k(this,"shadowMap",null);k(this,"call",0)}}function xs(e,t,n){let s=0,r=e.length;if(r===0)return 0;for(;s<r;){const i=Math.floor((s+r)/2);n(e[i])<=t?s=i+1:r=i}return r}function We(e,t){return xs(e,t,n=>n.address)}function ic(e,t){if(t===void 0)return!1;typeof e=="bigint"&&(e=Number(e&0xFFFFFFFFn));const n=t-1;return(e&n)!==0}function oc(e,t){let n;return typeof e=="bigint"?(t=BigInt(t),n=~(t-1n)):n=~(t-1),(e&n)+t}function At(e,t){return e+(typeof e=="bigint"?BigInt(t):t)}function cc(e){return typeof e=="bigint"?e===0xaaaaaaaaaaaaaaaan:e===2863311530}class ac extends sc{constructor(){super(...arguments);k(this,"imports",{allocateExternMemory:{argType:"iii",returnType:"i"},freeExternMemory:{argType:"iiii"},runThunk:{argType:"ii",returnType:"v"},runVariadicThunk:{argType:"iiii",returnType:"v"},isRuntimeSafetyActive:{argType:"",returnType:"b"},flushStdout:{argType:"",returnType:""}});k(this,"exports",{allocateHostMemory:{argType:"ii",returnType:"v"},freeHostMemory:{argType:"iii"},captureString:{argType:"ii",returnType:"v"},captureView:{argType:"iib",returnType:"v"},castView:{argType:"iibv",returnType:"v"},readSlot:{argType:"vi",returnType:"v"},writeSlot:{argType:"viv"},getViewAddress:{argType:"v",returnType:"i"},beginDefinition:{returnType:"v"},insertInteger:{argType:"vsi",alias:"insertProperty"},insertBoolean:{argType:"vsb",alias:"insertProperty"},insertString:{argType:"vss",alias:"insertProperty"},insertObject:{argType:"vsv",alias:"insertProperty"},beginStructure:{argType:"v",returnType:"v"},attachMember:{argType:"vvb"},attachMethod:{argType:"vvb"},createTemplate:{argType:"v",returnType:"v"},attachTemplate:{argType:"vvb"},finalizeShape:{argType:"v"},endStructure:{argType:"v"}});k(this,"nextValueIndex",1);k(this,"valueTable",{0:null});k(this,"valueIndices",new Map);k(this,"memory",null);k(this,"initPromise",null);k(this,"customWASI",null);k(this,"hasCodeSource",!1);k(this,"littleEndian",!0)}async init(n){if(n&&this.hasCodeSource)throw new Error("Cannot set WASI interface after compilation has already begun (consider disabling topLevelAwait)");this.customWASI=n,await this.initPromise}allocateHostMemory(n,s){const r={[N]:s},i=tt(n),o=this.allocateRelocMemory(n,s),c=this.allocateShadowMemory(n,s),a={constructor:r,[g]:o,[_]:i},l={constructor:r,[g]:c,[_]:i};return this.addShadow(l,a,s),c}freeHostMemory(n,s,r){const i=this.unregisterMemory(n);if(i)this.removeShadow(i),this.freeShadowMemory(i);else throw new Nr(n)}allocateShadowMemory(n,s){return this.allocateFixedMemory(n,s,Ge.Scratch)}freeShadowMemory(n){return this.freeFixedMemory(n)}getBufferAddress(n){return 0}obtainExternView(n,s){const{buffer:r}=this.memory;return r[j]||(r[j]={address:0,len:r.byteLength}),this.obtainView(r,n,s)}copyBytes(n,s,r){const{memory:i}=this,o=new DataView(i.buffer,s,r);nn(r)(n,o)}findSentinel(n,s){const{memory:r}=this,i=s.byteLength,o=r.buffer.byteLength-i+1;for(let c=n;c<o;c+=i){const a=new DataView(r.buffer,c,i);let l=!0;for(let u=0;u<i;u++){const f=a.getUint8(u),m=s.getUint8(u);if(f!==m){l=!1;break}}if(l)return(c-n)/i}}captureString(n,s){const{buffer:r}=this.memory,i=new Uint8Array(r,n,s);return Kt(i)}getTargetAddress(n,s){const r=n[g];if(r[j])return this.getViewAddress(r);if(r.byteLength===0)return 0}clearExchangeTable(){this.nextValueIndex!==1&&(this.nextValueIndex=1,this.valueTable={0:null},this.valueIndices=new Map)}getObjectIndex(n){if(n){let s=this.valueIndices.get(n);return s===void 0&&(s=this.nextValueIndex++,this.valueIndices.set(n,s),this.valueTable[s]=n),s}else return 0}fromWebAssembly(n,s){switch(n){case"v":case"s":return this.valueTable[s];case"i":return s;case"b":return!!s}}toWebAssembly(n,s){switch(n){case"v":case"s":return this.getObjectIndex(s);case"i":return s;case"b":return s?1:0}}exportFunction(n,s="",r=""){return n?(...i)=>{i=i.map((c,a)=>this.fromWebAssembly(s.charAt(a),c));const o=n.apply(this,i);return this.toWebAssembly(r,o)}:()=>{}}importFunction(n,s="",r=""){return(...i)=>{i=i.map((c,a)=>this.toWebAssembly(s.charAt(a),c));const o=n.apply(this,i);return this.fromWebAssembly(r,o)}}exportFunctions(){const n={};for(const[s,{argType:r,returnType:i,alias:o}]of Object.entries(this.exports)){const c=this[o??s];n[`_${s}`]=this.exportFunction(c,r,i)}return n}importFunctions(n){for(const[s,{argType:r,returnType:i}]of Object.entries(this.imports)){const o=n[s];if(!o)throw new Error(`Unable to import function: ${s}`);this[s]=this.importFunction(o,r,i)}}async instantiateWebAssembly(n){const s=await n;this.hasCodeSource=!0;const r={env:this.exportFunctions(),wasi_snapshot_preview1:this.getWASIImport()};return s[Symbol.toStringTag]==="Response"?WebAssembly.instantiateStreaming(s,r):WebAssembly.instantiate(s,r)}loadModule(n){return this.initPromise=(async()=>{var o,c;const{instance:s}=await this.instantiateWebAssembly(n),{memory:r,_initialize:i}=s.exports;this.importFunctions(s.exports),this.trackInstance(s),(c=(o=this.customWASI)==null?void 0:o.initialize)==null||c.call(o,s),this.runtimeSafety=this.isRuntimeSafetyActive(),this.memory=r})()}trackInstance(n){const s=new WeakRef(n);Object.defineProperty(this,"released",{get:()=>!s.deref(),enumerable:!0})}linkVariables(n){this.initPromise&&(this.initPromise=this.initPromise.then(()=>super.linkVariables(n)))}getMemoryOffset(n){return n}recreateAddress(n){return n}invokeThunk(n,s){return this.runThunk?this.invokeThunkForReal(n,s):this.initPromise.then(()=>this.invokeThunkForReal(n,s))}invokeThunkForReal(n,s){try{this.startContext(),s[F]&&this.updatePointerAddresses(s);const r=this.getShadowAddress(s),i=s[ai],o=i?this.getShadowAddress(i):0;this.updateShadows();const c=i?this.runVariadicThunk(n,r,o,i.length):this.runThunk(n,r);if(this.updateShadowTargets(),s[F]&&this.updatePointerTargets(s),this.releaseShadows(),this.endContext(),!this.context&&this.flushConsole&&(this.flushStdout(),this.flushConsole()),c)throw new Hn(c);return s.retval}catch(r){if(!(r instanceof Dn&&r.code===0))throw r}}getWASIImport(){if(this.customWASI)return this.customWASI.wasiImport;{const r=()=>38;return{args_get:r,args_sizes_get:r,clock_res_get:r,clock_time_get:r,environ_get:r,environ_sizes_get:r,fd_advise:r,fd_allocate:r,fd_close:r,fd_datasync:r,fd_pread:r,fd_pwrite:r,fd_read:r,fd_readdir:r,fd_renumber:r,fd_seek:r,fd_sync:r,fd_tell:r,fd_write:(i,o,c,a)=>{if(i===1||i===2){const l=new DataView(this.memory.buffer);let u=0;for(let f=0,m=o;f<c;f++,m+=8){const b=l.getUint32(m,!0),S=l.getUint32(m+4,!0);if(S>0){const h=new DataView(this.memory.buffer,b,S);this.writeToConsole(h),u+=S}}return l.setUint32(a,u,!0),0}else return 38},fd_fdstat_get:r,fd_fdstat_set_flags:r,fd_fdstat_set_rights:r,fd_filestat_get:r,fd_filestat_set_size:r,fd_filestat_set_times:r,fd_prestat_get:()=>8,fd_prestat_dir_name:r,path_create_directory:r,path_filestat_get:r,path_filestat_set_times:r,path_link:r,path_open:r,path_readlink:r,path_remove_directory:r,path_rename:r,path_symlink:r,path_unlink_file:r,poll_oneoff:r,proc_exit:i=>{throw new Dn(i)},random_get:(i,o)=>{const c=new DataView(this.memory.buffer,i,o);for(let a=0;a<o;a++)c.setUint8(a,Math.floor(256*Math.random()));return 0},sched_yield:r,sock_accept:r,sock_recv:r,sock_send:r,sock_shutdown:r}}}}function lc(e){return new ac}Wo();Yi();sn();Go();Zo();Hi();Xi();Ki();Jo();ec();tc();Qo();Xo();Di();Yo();Ho();Ko();const M={constructor:null,typedArray:null,type:0,name:void 0,byteSize:0,align:0,isConst:!1,isTuple:!1,isIterator:!1,hasPointer:!1,instance:{members:[],methods:[],template:null},static:{members:[],methods:[],template:null}},w={type:0,isRequired:!1},U={},it={},Te={},ze={},xe={},Ie={},ot={},Pe={},Ve={},yt={},Rt={},Ft={},Me={},$e={},Bt={},ke={},Ce={},hn={},De={},te={},ee={},K={},ft={},Yt={},mn={},je={},ne={},se={},_e={},re={},ie={},Dt={},pn={},dn={},jt={},bn={},Sn={},gn={},Is={},wn={},Ps={},vn={},Vs={},On={},Ms={},An={},$s={},ks={},En={},Cs={},Re={},Ds={},js={},Tn={},_s={},zn={},Rs={},Fs={},Us={},Ns={},Bs={},Ls={},qs={},Ws={},Gs={},Js={},Ks={},Hs={},Ys={},Xs={},Zs={},Qs={},tr={},oe={},er={},nr={},xn={},sr={},In={},rr={},ir={},or={},cr={},ar={},lr={},ur={},fr={},yr={},hr={},mr={},pr={},dr={},br={},Sr={},gr={},wr={},vr={},Or={},Ar={},Er={},Tr={},zr={},xr={},Ir={},Pr={},Vr={},Mr={},$r={},x=e=>new Uint8Array(e),uc=x(),fc=x(),yc=x(8),hc=x(),mc=x([0,0,0,0,0,0,240,63]),pc=x(),dc=x(8),bc=x(),Sc=x(),gc=x([4]),wc=x(),vc=x(),Oc=x([138,4,0,1]),Ac=x([65,73,70,0]),Ec=x([148,1,0,1]),Tc=x([65,100,111,98,101,32,83,121,115,116,101,109,115,0]),zc=x(),xc=x([2]),Ic=x([231,1,0,1]),Pc=x([97,32,118,97,114,105,97,98,108,101,32,115,101,112,105,97,32,102,105,108,116,101,114,0]),Vc=x(),Mc=x(),$c=x(),kc=x(1),Cc=x([1]),kr=x(24),Dc=x(),jc=x(),_c=x(),Rc=x(),Fc=x([4]),Pn=x(24),Cr=x(24),Uc=x(),Nc=x(),Bc=x(),Lc=x([4]),Vn=x(24),qc=x(4),Wc=x([8,0]),Gc=x([8,0]),Jc=x(),Kc=x(),Hc=x(),Yc=x(),y=Object.assign;y(Is,{slots:{0:wn,1:vn,2:On,3:An}});y(wn,{structure:U,memory:{array:uc},const:!0,slots:{0:Ps}});y(Ps,{structure:Rt});y(vn,{structure:yt,memory:{array:fc},const:!0,slots:{0:Vs}});y(Vs,{structure:Ft,memory:{array:yc},const:!0});y(On,{structure:yt,memory:{array:hc},const:!0,slots:{0:Ms}});y(Ms,{structure:Ft,memory:{array:mc},const:!0});y(An,{structure:yt,memory:{array:pc},const:!0,slots:{0:$s}});y($s,{structure:Ft,memory:{array:dc},const:!0});y(ks,{slots:{0:En}});y(En,{structure:Me,memory:{array:bc},const:!0,slots:{0:wn,1:vn,2:On,3:An}});y(Cs,{slots:{0:Re}});y(Re,{structure:ot,memory:{array:Sc},const:!0,slots:{0:Ds}});y(Ds,{structure:it,memory:{array:gc},const:!0});y(js,{slots:{0:Tn}});y(Tn,{structure:Bt,memory:{array:wc},const:!0,slots:{0:Re}});y(_s,{slots:{0:zn}});y(zn,{structure:Bt,memory:{array:vc},const:!0,slots:{0:Re}});y(Rs,{slots:{0:Fs,1:Ns,2:Ls,3:Ws,4:Js,5:Ks,6:Hs}});y(Fs,{structure:ze,memory:{array:Oc},const:!0,slots:{0:Us}});y(Us,{structure:Te,memory:{array:Ac},reloc:16778378});y(Ns,{structure:Ie,memory:{array:Ec},const:!0,slots:{0:Bs}});y(Bs,{structure:xe,memory:{array:Tc},reloc:16777620});y(Ls,{structure:ot,memory:{array:zc},const:!0,slots:{0:qs}});y(qs,{structure:it,memory:{array:xc},const:!0});y(Ws,{structure:Ve,memory:{array:Ic},const:!0,slots:{0:Gs}});y(Gs,{structure:Pe,memory:{array:Pc},reloc:16777703});y(Js,{structure:$e,memory:{array:Vc},const:!0,slots:{0:En}});y(Ks,{structure:ke,memory:{array:Mc},const:!0,slots:{0:Tn}});y(Hs,{structure:Ce,memory:{array:$c},const:!0,slots:{0:zn}});y(Ys,{slots:{0:Xs,1:Zs}});y(Xs,{structure:ft,memory:{array:kc},const:!0});y(Zs,{structure:ft,memory:{array:Cc},const:!0});y(Qs,{memory:{array:kr},slots:{0:tr}});y(tr,{structure:ee,memory:{array:kr,offset:0,length:8},slots:{0:oe}});y(oe,{structure:te,memory:{array:Dc},reloc:0});y(er,{slots:{0:nr,1:sr,2:rr}});y(nr,{structure:U,memory:{array:jc},const:!0,slots:{0:xn}});y(xn,{structure:De});y(sr,{structure:U,memory:{array:_c},const:!0,slots:{0:In}});y(In,{structure:mn});y(rr,{structure:ot,memory:{array:Rc},const:!0,slots:{0:ir}});y(ir,{structure:it,memory:{array:Fc},const:!0});y(or,{memory:{array:Pn},slots:{0:cr}});y(cr,{structure:je,memory:{array:Pn},slots:{0:ar}});y(ar,{structure:ee,memory:{array:Pn,offset:0,length:8},slots:{0:oe}});y(lr,{memory:{array:Cr},slots:{0:ur}});y(ur,{structure:se,memory:{array:Cr,offset:0,length:8},slots:{0:oe}});y(fr,{slots:{0:yr,1:hr,2:mr}});y(yr,{structure:U,memory:{array:Uc},const:!0,slots:{0:xn}});y(hr,{structure:U,memory:{array:Nc},const:!0,slots:{0:In}});y(mr,{structure:ot,memory:{array:Bc},const:!0,slots:{0:pr}});y(pr,{structure:it,memory:{array:Lc},const:!0});y(dr,{memory:{array:Vn},slots:{0:br}});y(br,{structure:_e,memory:{array:Vn},slots:{0:Sr}});y(Sr,{structure:se,memory:{array:Vn,offset:0,length:8},slots:{0:oe}});y(gr,{memory:{array:qc}});y(wr,{slots:{0:vr}});y(vr,{structure:Dt,memory:{array:Wc},const:!0});y(Or,{slots:{0:Ar}});y(Ar,{structure:jt,memory:{array:Gc},const:!0});y(Er,{slots:{0:Tr,1:xr,2:Pr,3:Mr}});y(Tr,{structure:U,memory:{array:Jc},const:!0,slots:{0:zr}});y(zr,{structure:hn});y(xr,{structure:U,memory:{array:Kc},const:!0,slots:{0:Ir}});y(Ir,{structure:ne});y(Pr,{structure:U,memory:{array:Hc},const:!0,slots:{0:Vr}});y(Vr,{structure:re});y(Mr,{structure:U,memory:{array:Yc},const:!0,slots:{0:$r}});y($r,{structure:ie});const Xc={argStruct:dn,thunkId:2,name:"createOutput"},Zc={argStruct:Sn,thunkId:3,name:"createPartialOutput"};y(U,{...M,name:"type",align:1,instance:{members:[{...w,type:6,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:U}],methods:[]}});y(it,{...M,name:"u8",byteSize:1,align:1,instance:{members:[{...w,type:3,bitOffset:0,bitSize:8,byteSize:1,structure:it}],methods:[]}});y(Te,{...M,type:1,name:"[3:0]u8",length:3,byteSize:4,align:1,instance:{members:[{...w,type:3,bitSize:8,byteSize:1,structure:it}],methods:[]}});y(ze,{...M,type:14,name:"*const [3:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...w,type:5,bitSize:32,byteSize:4,slot:0,structure:Te}],methods:[]}});y(xe,{...M,type:1,name:"[13:0]u8",length:13,byteSize:14,align:1,instance:{members:[{...w,type:3,bitSize:8,byteSize:1,structure:it}],methods:[]}});y(Ie,{...M,type:14,name:"*const [13:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...w,type:5,bitSize:32,byteSize:4,slot:0,structure:xe}],methods:[]}});y(ot,{...M,name:"comptime_int",align:1,instance:{members:[{...w,type:7,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:ot}],methods:[]}});y(Pe,{...M,type:1,name:"[23:0]u8",length:23,byteSize:24,align:1,instance:{members:[{...w,type:3,bitSize:8,byteSize:1,structure:it}],methods:[]}});y(Ve,{...M,type:14,name:"*const [23:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...w,type:5,bitSize:32,byteSize:4,slot:0,structure:Pe}],methods:[]}});y(yt,{...M,name:"comptime_float",align:1,instance:{members:[{...w,type:7,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:yt}],methods:[]}});y(Rt,{...M,name:"f32",byteSize:4,align:4,instance:{members:[{...w,type:4,bitOffset:0,bitSize:32,byteSize:4,structure:Rt}],methods:[]}});y(Ft,{...M,name:"f64",byteSize:8,align:8,instance:{members:[{...w,type:4,bitOffset:0,bitSize:64,byteSize:8,structure:Ft}],methods:[]}});y(Me,{...M,type:2,name:"Struct0020",align:1,instance:{members:[{...w,type:7,slot:0,name:"type",structure:U},{...w,type:7,slot:1,name:"minValue",structure:yt},{...w,type:7,slot:2,name:"maxValue",structure:yt},{...w,type:7,slot:3,name:"defaultValue",structure:yt}],methods:[],template:Is}});y($e,{...M,type:2,name:"Struct0019",align:1,instance:{members:[{...w,type:7,slot:0,name:"intensity",structure:Me}],methods:[],template:ks}});y(Bt,{...M,type:2,name:"Struct0027",align:1,instance:{members:[{...w,type:7,slot:0,name:"channels",structure:ot}],methods:[],template:Cs}});y(ke,{...M,type:2,name:"Struct0026",align:1,instance:{members:[{...w,type:7,slot:0,name:"src",structure:Bt}],methods:[],template:js}});y(Ce,{...M,type:2,name:"Struct0029",align:1,instance:{members:[{...w,type:7,slot:0,name:"dst",structure:Bt}],methods:[],template:_s}});y(hn,{...M,type:2,name:"sepia.kernel",align:1,static:{members:[{...w,type:7,slot:0,name:"namespace",structure:ze},{...w,type:7,slot:1,name:"vendor",structure:Ie},{...w,type:7,slot:2,name:"version",structure:ot},{...w,type:7,slot:3,name:"description",structure:Ve},{...w,type:7,slot:4,name:"parameters",structure:$e},{...w,type:7,slot:5,name:"inputImages",structure:ke},{...w,type:7,slot:6,name:"outputImages",structure:Ce}],methods:[],template:Rs}});y(De,{...M,type:19,name:"@Vector(4, u8)",length:4,byteSize:4,align:4,instance:{members:[{...w,type:3,bitSize:8,byteSize:1,structure:it}],methods:[]}});y(te,{...M,type:18,name:"[_]@Vector(4, u8)",byteSize:4,align:4,instance:{members:[{...w,type:5,bitSize:32,byteSize:4,structure:De}],methods:[]}});y(ee,{...M,type:15,name:"[]const @Vector(4, u8)",byteSize:8,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...w,type:5,bitSize:64,byteSize:8,slot:0,structure:te}],methods:[]}});y(K,{...M,name:"u32",byteSize:4,align:4,instance:{members:[{...w,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:K}],methods:[]}});y(ft,{...M,type:12,name:"sepia.ColorSpace",byteSize:1,align:1,instance:{members:[{...w,type:3,bitOffset:0,bitSize:1,byteSize:1,structure:ft}],methods:[]},static:{members:[{...w,type:7,slot:0,name:"srgb",structure:ft},{...w,type:7,slot:1,name:"display-p3",structure:ft}],methods:[],template:Ys}});y(Yt,{...M,name:"usize",byteSize:4,align:4,instance:{members:[{...w,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:Yt}],methods:[]}});y(mn,{...M,type:19,name:"@Vector(4, f32)",length:4,byteSize:16,align:16,instance:{members:[{...w,type:4,bitSize:32,byteSize:4,structure:Rt}],methods:[]}});y(je,{...M,type:2,name:"sepia.Image(u8,4,false)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...w,type:5,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:ee},{...w,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:K},{...w,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:K},{...w,type:3,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:ft},{...w,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:Yt}],methods:[],template:Qs},static:{members:[{...w,type:7,slot:0,name:"Pixel",structure:U},{...w,type:7,slot:1,name:"FPixel",structure:U},{...w,type:7,slot:2,name:"channels",structure:ot}],methods:[],template:er}});y(ne,{...M,type:2,name:"sepia.KernelInput(u8,sepia.kernel)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...w,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"src",structure:je}],methods:[],template:or}});y(se,{...M,type:15,name:"[]@Vector(4, u8)",byteSize:8,align:4,hasPointer:!0,instance:{members:[{...w,type:5,bitSize:64,byteSize:8,slot:0,structure:te}],methods:[]}});y(_e,{...M,type:2,name:"sepia.Image(u8,4,true)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...w,type:5,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:se},{...w,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:K},{...w,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:K},{...w,type:3,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:ft},{...w,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:Yt}],methods:[],template:lr},static:{members:[{...w,type:7,slot:0,name:"Pixel",structure:U},{...w,type:7,slot:1,name:"FPixel",structure:U},{...w,type:7,slot:2,name:"channels",structure:ot}],methods:[],template:fr}});y(re,{...M,type:2,name:"sepia.KernelOutput(u8,sepia.kernel)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...w,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"dst",structure:_e}],methods:[],template:dr}});y(ie,{...M,type:2,name:"sepia.KernelParameters(sepia.kernel)",byteSize:4,align:4,instance:{members:[{...w,type:4,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"intensity",structure:Rt}],methods:[],template:gr}});y(Dt,{...M,type:11,name:"ErrorSet0043",byteSize:2,align:2,instance:{members:[{...w,type:3,bitOffset:0,bitSize:16,byteSize:2,structure:Dt}],methods:[]},static:{members:[{...w,type:7,slot:0,name:"OutOfMemory",structure:Dt}],methods:[],template:wr}});y(pn,{...M,type:10,name:"ErrorSet0043!sepia.KernelOutput(u8,sepia.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...w,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:re},{...w,type:3,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:Dt}],methods:[]}});y(dn,{...M,type:5,name:"Arg0047",byteSize:64,align:4,hasPointer:!0,instance:{members:[{...w,type:5,isRequired:!0,bitOffset:0,bitSize:224,byteSize:28,slot:0,name:"retval",structure:pn},{...w,type:3,isRequired:!0,bitOffset:224,bitSize:32,byteSize:4,slot:1,name:"0",structure:K},{...w,type:3,isRequired:!0,bitOffset:256,bitSize:32,byteSize:4,slot:2,name:"1",structure:K},{...w,type:5,isRequired:!0,bitOffset:288,bitSize:192,byteSize:24,slot:3,name:"2",structure:ne},{...w,type:5,isRequired:!0,bitOffset:480,bitSize:32,byteSize:4,slot:4,name:"3",structure:ie}],methods:[]}});y(jt,{...M,type:11,name:"ErrorSet0046",byteSize:2,align:2,instance:{members:[{...w,type:3,bitOffset:0,bitSize:16,byteSize:2,structure:jt}],methods:[]},static:{members:[{...w,type:7,slot:0,name:"OutOfMemory",structure:jt}],methods:[],template:Or}});y(bn,{...M,type:10,name:"ErrorSet0046!sepia.KernelOutput(u8,sepia.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...w,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:re},{...w,type:3,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:jt}],methods:[]}});y(Sn,{...M,type:5,name:"Arg0048",byteSize:72,align:4,hasPointer:!0,instance:{members:[{...w,type:5,isRequired:!0,bitOffset:0,bitSize:224,byteSize:28,slot:0,name:"retval",structure:bn},{...w,type:3,isRequired:!0,bitOffset:224,bitSize:32,byteSize:4,slot:1,name:"0",structure:K},{...w,type:3,isRequired:!0,bitOffset:256,bitSize:32,byteSize:4,slot:2,name:"1",structure:K},{...w,type:3,isRequired:!0,bitOffset:288,bitSize:32,byteSize:4,slot:3,name:"2",structure:K},{...w,type:3,isRequired:!0,bitOffset:320,bitSize:32,byteSize:4,slot:4,name:"3",structure:K},{...w,type:5,isRequired:!0,bitOffset:352,bitSize:192,byteSize:24,slot:5,name:"4",structure:ne},{...w,type:5,isRequired:!0,bitOffset:544,bitSize:32,byteSize:4,slot:6,name:"5",structure:ie}],methods:[]}});y(gn,{...M,type:2,name:"sepia",align:1,static:{members:[{...w,type:7,slot:0,name:"kernel",structure:U},{...w,type:7,slot:1,name:"Input",structure:U},{...w,type:7,slot:2,name:"Output",structure:U},{...w,type:7,slot:3,name:"Parameters",structure:U}],methods:[Xc,Zc],template:Er}});const Qc=[U,it,Te,ze,xe,Ie,ot,Pe,Ve,yt,Rt,Ft,Me,$e,Bt,ke,Ce,hn,De,te,ee,K,ft,Yt,mn,je,ne,se,_e,re,ie,Dt,pn,dn,jt,bn,Sn,gn],ta=gn,ea={runtimeSafety:!1,littleEndian:!0},Fe=lc();Fe.recreateStructures(Qc,ea);const na=(async()=>{const e=new URL("sepia-n6LdzFsU.wasm",import.meta.url).href;return fetch(e)})();Fe.loadModule(na);Fe.linkVariables(!0);const{constructor:sa}=ta;Fe.getSpecialExports();const{createOutput:ra,createPartialOutput:la,kernel:ua,Input:fa,Output:ya,Parameters:ha}=sa;async function ia(e,t,n,s){const o=(await ra(e,t,{src:n},s)).dst.data.typedArray,c=new Uint8ClampedArray(o.buffer,o.byteOffset,o.byteLength);return new ImageData(c,e,t)}onmessage=async e=>{if(!Array.isArray(e.data))return;const[t,n,...s]=e.data;try{const[r,i]=await oa(t,s);postMessage([t,n,r],{transfer:i})}catch(r){postMessage(["error",n,r])}};async function oa(e,t){switch(e){case"createImageData":const n=await ia(...t),s=[n.data.buffer];return[n,s];default:throw new Error(`Unknown function: ${e}`)}}postMessage("ready");
