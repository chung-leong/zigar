var wr=Object.defineProperty;var vr=(t,e,n)=>e in t?wr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>(vr(t,typeof e!="symbol"?e+"":e,n),n);const I={Void:0,Bool:1,Int:2,Uint:3,Float:4,Object:5,Type:6,Comptime:7,Static:8,Literal:9,Null:10,Undefined:11},E={Primitive:0,Array:1,Struct:2,ExternStruct:3,PackedStruct:4,ArgStruct:5,ExternUnion:6,BareUnion:7,TaggedUnion:8,ErrorUnion:9,ErrorSet:10,Enum:11,Optional:12,Pointer:13,Slice:14,Vector:15,Opaque:16,Function:17};function Ce(t){const{type:e,bitSize:n,byteSize:s}=t;if(e===I.Int)return`${n<=32?"":"Big"}Int${n}`;if(e===I.Uint)return`${n<=32?"":"Big"}Uint${n}`;if(e===I.Float)return`Float${n}`;if(e===I.Bool)return`Bool${s!==void 0?s*8:1}`;if(e===I.Void)return"Null"}function Or(t){for(const[e,n]of Object.entries(E))if(n===t)return e.replace(/\B[A-Z]/g,s=>` ${s}`).toLowerCase()}function Ar(t){const{type:e,bitSize:n}=t,s=e===I.Int;let r=s?n-1:n;if(n<=32){const o=2**r-1;return{min:s?-(2**r):0,max:o}}else{r=BigInt(r);const o=2n**r-1n;return{min:s?-(2n**r):0n,max:o}}}function zn({type:t,bitSize:e}){if(t===I.Int||t===I.Uint)return e<=32?Number:BigInt;if(t===I.Float)return Number;if(t===I.Bool)return Boolean}function xn(t){const e=zn(t);if(e)return typeof e(0)}function In({bitOffset:t,bitSize:e,byteSize:n}){return n!==void 0||!(t&7)&&!(e&7)||e===0}function _t(t){return typeof t=="object"&&typeof t.error=="string"&&Object.keys(t).length===1}class Er extends TypeError{constructor(e){const{name:n}=e;super(`An initializer must be provided to the constructor of ${n}, even when the intended value is undefined`)}}class Pn extends TypeError{constructor(e,n,s=null){const{name:r,type:o,byteSize:c}=e,i=n.byteLength,a=c!==1?"s":"";let l;if(o===E.Slice&&!s)l=`${r} has elements that are ${c} byte${a} in length, received ${i}`;else{const u=o===E.Slice?s.length*c:c;l=`${r} has ${u} byte${a}, received ${i}`}super(l)}}class Tr extends TypeError{constructor(e){const{type:n,byteSize:s,typedArray:r}=e,o=s!==1?"s":"",c=["ArrayBuffer","DataView"].map(at);r&&c.push(at(r.name));let i;n===E.Slice?i=`Expecting ${Pe(c)} that can accommodate items ${s} byte${o} in length`:i=`Expecting ${Pe(c)} that is ${s} byte${o} in length`,super(i)}}class zr extends TypeError{constructor(e,n){const{name:s}=e;let r;typeof n=="number"||typeof n=="bigint"?r=`Value given does not correspond to an item of enum ${s}: ${n}`:r=`Enum item of the type ${s} expected, received ${n}`,super(r)}}class xr extends TypeError{constructor(e,n){const{name:s}=e,r=typeof n;let o;r==="string"||r==="number"||_t(n)?(_t(n)&&(n=`{ error: ${JSON.stringify(n.error)} }`),o=`Error ${r} does not corresponds to any error in error set ${s}: ${n}`):o=`Error of the type ${s} expected, received ${n}`,super(o)}}class Vn extends TypeError{constructor(e){const{name:n}=e;super(`Error given is not a part of error set ${n}`)}}class dt extends TypeError{constructor(e,n,s){const{name:r}=e,o=[];if(Array.isArray(n))for(const i of n)o.push(at(i));else o.push(at(n));const c=Cn(s);super(`${r} expects ${Pe(o)} as argument, received ${c}`)}}class pt extends dt{constructor(e,n,s=!1){var l;const{instance:{members:[r]},type:o,typedArray:c}=e,i=[],a=xn(r);if(a){let u;switch((l=r.structure)==null?void 0:l.type){case E.Enum:u="enum item";break;case E.ErrorSet:u="error";break;default:u=a}i.push(`array of ${u}s`)}else i.push("array of objects");c&&i.push(c.name),o===E.Slice&&s&&i.push("length"),super(e,i.join(" or "),n)}}class ne extends TypeError{constructor(e,n,s){const{name:r,length:o,instance:{members:[c]}}=e,{structure:{constructor:i}}=c,{length:a,constructor:l}=s,u=(n==null?void 0:n.length)??o,f=u!==1?"s":"";let m;l===i?m="only a single one":l.child===i?m=`a slice/array that has ${a}`:m=`${a} initializer${a>1?"s":""}`,super(`${r} has ${u} element${f}, received ${m}`)}}class Ir extends TypeError{constructor(e,n){const{name:s}=e;super(`Missing initializers for ${s}: ${n.join(", ")}`)}}class Pr extends TypeError{constructor(e,n){const{name:s,instance:{members:r}}=e,o=r.find(i=>i.name===n);let c;o?c=`Comptime value cannot be changed: ${n}`:c=`${s} does not have a property with that name: ${n}`,super(c)}}class Vr extends Error{constructor(e,n,s){const r=n!==1?"s":"";super(`${e}() expects ${n} argument${r}, received ${s}`)}}class Mr extends TypeError{constructor(e){super("Non-slice pointers can only be created with the help of the new operator")}}class $r extends TypeError{constructor(e,n){const{name:s}=e,{constructor:{name:r}}=n;super(`Conversion of ${r} to ${s} requires an explicit cast`)}}class mn extends TypeError{constructor(e,n,s,r){const{name:o}=e;super(`${o} expects the sentinel value ${n} at ${r-1}, found at ${s}`)}}class Yt extends TypeError{constructor(e,n,s){const{name:r}=e;super(`${r} expects the sentinel value ${n} at ${s-1}`)}}class Cr extends TypeError{constructor(e,n){super(`Unable to simultaneously align memory to ${n}-byte and ${e}-byte boundary`)}}class se extends TypeError{constructor(e,n){const s=Cn(n);super(`Expected ${at(e)}, received ${s}`)}}class pn extends TypeError{constructor(){super("Null pointer")}}class kr extends TypeError{constructor(e,n){const{name:s}=e;let r;if(n!=null){const o=typeof n,c=o==="object"&&n.constructor!==Object?`${n.constructor.name} object`:o;r=`${kn(c)} ${c}`}else r=n+"";super(`${s} cannot point to ${r}`)}}class jr extends TypeError{constructor(e,n){super("Pointers in fixed memory cannot point to garbage-collected object")}}class Dr extends TypeError{constructor(e,n){const s=Ce(e);super(`${s} cannot represent the value given: ${n}`)}}class dn extends RangeError{constructor(e,n){const{name:s}=e;super(`Index exceeds the size of ${s??"array"}: ${n}`)}}class _r extends TypeError{constructor(e){const{name:n,structure:{name:{struct:s}}}=e;super(`Unable to create ${s} as it is not situated on a byte boundary: ${n}`)}}class Fr extends TypeError{constructor(){super("Unable to modify read-only object")}}class Rr extends TypeError{constructor(e){const{name:n}=e;super(`${n} cannot point to a read-only object`)}}class Mn extends Error{constructor(e){super($n(e))}}class bn extends Mn{constructor(e){super("Program exited"),this.code=e}}function Nr(t,e,n,s){const r=`args[${e}]`,o=e!==0?"..., ":"",c=e!==n-1?", ...":"",i=o+r+c,a=Object.create(s.constructor.prototype);return a.message=`${t}(${i}): ${s.message}`,a.stack=s.stack,a}function gn(t,e,n){return n instanceof RangeError&&!(n instanceof dn)&&(n=new dn(t,e)),n}function zt(){throw new Fr}function Ur(t,e){const n=at(t.typedArray.name),s=at(e.constructor.name);console.warn(`Implicitly creating ${n} from ${s}`)}function $n(t){let e=t.replace(/_/g," ");try{e=e.replace(new RegExp("(\\p{Uppercase}+)(\\p{Lowercase}*)","gu"),(n,s,r)=>{if(s.length===1)return` ${s.toLocaleLowerCase()}${r}`;if(r){const o=s.substring(0,s.length-1),c=s.charAt(s.length-1).toLocaleLowerCase();return` ${o} ${c}${r}`}else return` ${s}`}).trimStart()}catch{}return e.charAt(0).toLocaleUpperCase()+e.substring(1)}function Cn(t){const e=typeof t;let n;return e==="object"?n=t?Object.prototype.toString.call(t):"null":n=e,at(n)}function at(t){return`${kn(t)} ${t}`}function kn(t){return/^\W*[aeiou]/i.test(t)?"an":"a"}function Pe(t,e="or"){const n=` ${e} `;return t.length>2?t.slice(0,-1).join(", ")+n+t[t.length-1]:t.join(n)}const w=Symbol("memory"),x=Symbol("slots"),ke=Symbol("parent"),jn=Symbol("name"),K=Symbol("type"),Dn=Symbol("tuple"),kt=Symbol("class"),Sn=Symbol("tag"),bt=Symbol("props"),re=Symbol("getter"),oe=Symbol("setter"),$t=Symbol("elementGetter"),Ct=Symbol("elementSetter"),Ve=Symbol("addressGetter"),_n=Symbol("addressSetter"),mt=Symbol("targetGetter"),Me=Symbol("targetSetter"),gt=Symbol("entriesGetter"),At=Symbol("fixedLocation"),je=Symbol("propSetters"),B=Symbol("writeDisabler"),Fn=Symbol("allKeys"),$e=Symbol("length"),ie=Symbol("proxy"),Nt=Symbol("compat"),L=Symbol("size"),D=Symbol("align"),De=Symbol("array"),Ft=Symbol("pointer"),St=Symbol("constTarget"),xe=Symbol("constProxy"),k=Symbol("copier"),wn=Symbol("resetter"),Z=Symbol("vivificator"),_=Symbol("pointerVisitor"),jt=Symbol("environment"),Ht=Symbol("attributes"),Rn=Symbol("more");function lt(t){return function(){const e=this[w];this[w]=null,this[x]&&(this[x]={}),t.releaseFixedView(e)}}function vn(t,e,n){if(t+e<=8){const s=2**e-1;if(n)return function(r,o,c){const a=o.getUint8(c)>>t&s;r.setUint8(0,a)};{const r=255^s<<t;return function(o,c,i){const a=c.getUint8(0),u=o.getUint8(i)&r|(a&s)<<t;o.setUint8(i,u)}}}else{const s=8-t,r=2**s-1;if(n){const c=2**(e%8)-1;return function(i,a,l){let u=l,f=0,m=a.getUint8(u++),h,d=m>>t&r,p=s,b=e;do b>p&&(m=a.getUint8(u++),d=d|m<<p),h=b>=8?d&255:d&c,i.setUint8(f++,h),d>>=8,b-=8;while(b>0)}}else{const c=2**((e-s)%8)-1,i=255^r<<t,a=255^c;return function(l,u,f){let m=0,h=f,d=l.getUint8(h),p,b,S=d&i,v=t,O=e+v;do O>v&&(p=u.getUint8(m++),S=S|p<<v,v+=8),O>=8?b=S&255:(d=l.getUint8(h),b=d&a|S&c),l.setUint8(h++,b),S>>=8,v-=8,O-=8;while(O>0)}}}}function q(t,e=!1){const n=Nn(t,e);return function(s){X.call(this),X.call(s);const r=s[w],o=this[w];n(o,r)}}function Nn(t,e=!1){if(!e){const n=Lr[t];if(n)return n}return t&7?t&3?t&1?Br:qr:Wr:Gr}const Lr={1:Jr,2:Kr,4:Yr,8:Hr,16:Xr,32:Zr};function Br(t,e){for(let n=0,s=t.byteLength;n<s;n++)t.setInt8(n,e.getInt8(n))}function qr(t,e){for(let n=0,s=t.byteLength;n<s;n+=2)t.setInt16(n,e.getInt16(n,!0),!0)}function Wr(t,e){for(let n=0,s=t.byteLength;n<s;n+=4)t.setInt32(n,e.getInt32(n,!0),!0)}function Gr(t,e){for(let n=0,s=t.byteLength;n<s;n+=8)t.setInt32(n,e.getInt32(n,!0),!0),t.setInt32(n+4,e.getInt32(n+4,!0),!0)}function Jr(t,e){t.setInt8(0,e.getInt8(0))}function Kr(t,e){t.setInt16(0,e.getInt16(0,!0),!0)}function Yr(t,e){t.setInt32(0,e.getInt32(0,!0),!0)}function Hr(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0)}function Xr(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0)}function Zr(t,e){t.setInt32(0,e.getInt32(0,!0),!0),t.setInt32(4,e.getInt32(4,!0),!0),t.setInt32(8,e.getInt32(8,!0),!0),t.setInt32(12,e.getInt32(12,!0),!0),t.setInt32(16,e.getInt32(16,!0),!0),t.setInt32(20,e.getInt32(20,!0),!0),t.setInt32(24,e.getInt32(24,!0),!0),t.setInt32(28,e.getInt32(28,!0),!0)}function Qr(t,e){const n=to(e);return function(){X.call(this);const s=this[w];n(s,t,e)}}function to(t){const e=eo[t];return e||(t&7?t&3?t&1?no:so:ro:oo)}const eo={1:io,2:co,4:ao,8:lo,16:uo,32:fo};function no(t,e,n){for(let s=e,r=e+n;s<r;s++)t.setInt8(s,0)}function so(t,e,n){for(let s=e,r=e+n;s<r;s+=2)t.setInt16(s,0,!0)}function ro(t,e,n){for(let s=e,r=e+n;s<r;s+=4)t.setInt32(s,0,!0)}function oo(t,e,n){for(let s=e,r=e+n;s<r;s+=8)t.setInt32(s,0,!0),t.setInt32(s+4,0,!0)}function io(t,e){t.setInt8(e,0)}function co(t,e){t.setInt16(e,0,!0)}function ao(t,e){t.setInt32(e,0,!0)}function lo(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0)}function uo(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0),t.setInt32(e+8,0,!0),t.setInt32(e+12,0,!0)}function fo(t,e){t.setInt32(e+0,0,!0),t.setInt32(e+4,0,!0),t.setInt32(e+8,0,!0),t.setInt32(e+12,0,!0),t.setInt32(e+16,0,!0),t.setInt32(e+20,0,!0),t.setInt32(e+24,0,!0),t.setInt32(e+28,0,!0)}function X(){const t=this[w],e=t[w];if(!e||t.buffer.byteLength!==0)return!1;const{memory:n,address:s,len:r}=e,o=new DataView(n.buffer,s,r);return o[w]=e,this[w]=o,!0}function Zt(t,e){return Eo(t,e,n=>DataView.prototype[n]?DataView.prototype[n]:ho(t,e))}const Un={};function yo(){Un[I.Uint]=mo}function ho(t,e){const n=Un[e.type];return n(t,e)}function mo(t,e){return In(e)?vo(t,e):Oo(t,e)}function ce(t,e,n){const{type:s,byteSize:r,typedArray:o}=t;let c;const i=e==null?void 0:e[Symbol.toStringTag];if(i==="DataView")c=e;else if(i==="ArrayBuffer"||i==="SharedArrayBuffer")c=n.obtainView(e,0,e.byteLength);else if(o&&i===o.name||i==="Uint8ClampedArray"&&o===Uint8Array)c=n.obtainView(e.buffer,e.byteOffset,e.byteLength);else if(i==="Uint8Array"&&typeof Buffer=="function"&&e instanceof Buffer)c=n.obtainView(e.buffer,e.byteOffset,e.byteLength);else{const a=e==null?void 0:e[w];if(a){const{constructor:l,instance:{members:[u]}}=t;if(e instanceof l)return a;if(s===E.Array||s===E.Slice||s===E.Vector){const{byteSize:f,structure:{constructor:m}}=u,h=Bn(e,m);if(h!==void 0){if(s===E.Slice||h*f===r)return a;throw new ne(t,null,e)}}}}return c&&r!==void 0&&Ln(c,t),c}function po(t){if((t==null?void 0:t[Symbol.toStringTag])!=="DataView")throw new se("a DataView",t);return t}function Ln(t,e){const{byteSize:n,type:s}=e;if(s===E.Slice?t.byteLength%n!==0:t.byteLength!==n)throw new Pn(e,t)}function Ut(t,e,n,s,r){const{byteSize:o,type:c,sentinel:i}=e,a=c===E.Slice;if(this[w]){const l=a?o*this.length:o;if(t.byteLength!==l)throw new Pn(e,t,this);const u={[w]:t};i==null||i.validateData(u,this.length),this[k](u)}else{const{shapeDefiner:l}=r;Ln(t,e);const u=t.byteLength/o,f={[w]:t};i==null||i.validateData(f,u),s&&(n=!0),l.call(this,n?null:t,u,s),n&&this[k](f)}}function Bn(t,e){const{constructor:n}=t;if(n===e)return 1;if(n.child===e)return t.length}function bo(t,e,n){const s=ce(t,e,n);if(!s)throw new Tr(t);return s}function wt(t){const{type:e,byteSize:n}=t;if(e===I.Int)switch(n){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;case 8:return BigInt64Array}else if(e===I.Uint)switch(n){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;case 8:return BigUint64Array}else if(e===I.Float)switch(n){case 4:return Float32Array;case 8:return Float64Array}else if(e===I.Object)return t.structure.typedArray;return null}function go(t,e){const n=t==null?void 0:t[Symbol.toStringTag];return!!e&&n===e.name}function So(t,e){const n=e[Nt];if(n){const s=t==null?void 0:t[Symbol.toStringTag];if(n.includes(s))return!0}return!!(e.child&&Bn(t,e.child)!==void 0)}function ae(t){const{typedArray:e}=t,n=[];return e&&(n.push(e.name),n.push("DataView"),(e===Uint8Array||e===Int8Array)&&(n.push("ArrayBuffer"),n.push("SharedArrayBuffer"),e===Uint8Array&&n.push("Uint8ClampedArray"))),n}function wo(t){const e=DataView.prototype.getBigUint64,n=DataView.prototype.setBigUint64,s=Math.ceil(t/64);return{get:function(r,o){let c=0n;if(o)for(let i=0,a=r+(s-1)*8;i<s;i++,a-=8){const l=e.call(this,a,o);c=c<<64n|l}else for(let i=0,a=r;i<s;i++,a+=8){const l=e.call(this,a,o);c=c<<64n|l}return c},set:function(r,o,c){let i=o;const a=0xFFFFFFFFFFFFFFFFn;if(c)for(let l=0,u=r;l<s;l++,u+=8){const f=i&a;n.call(this,u,f,c),i>>=64n}else{i<<=BigInt(s*64-t);for(let l=0,u=r+(s-1)*8;l<s;l++,u-=8){const f=i&a;n.call(this,u,f,c),i>>=64n}}return i}}}function vo(t,e){const{bitSize:n,byteSize:s}=e;if(n<64){const r=Ce({...e,bitSize:s*8}),o=DataView.prototype[`get${r}`],c=DataView.prototype[`set${r}`],i=n<=32?2**n-1:2n**BigInt(n)-1n;return t==="get"?function(a,l){return o.call(this,a,l)&i}:function(a,l,u){const f=l&i;c.call(this,a,f,u)}}else{const{get:r,set:o}=wo(n),c=2n**BigInt(n)-1n;return t==="get"?function(i,a){return r.call(this,i,a)&c}:function(i,a,l){const u=a&c;o.call(this,i,u,l)}}}function Oo(t,e){const{bitSize:n,bitOffset:s}=e,r=s&7;if(r+n<=8){const o=DataView.prototype.setUint8,c=DataView.prototype.getUint8,i=2**n-1;if(t==="get")return function(a){return c.call(this,a)>>>r&i};{const a=255^i<<r;return function(l,u){const m=c.call(this,l)&a|(u&i)<<r;o.call(this,l,m)}}}return Ao(t,e)}function Ao(t,e){const{bitSize:n,bitOffset:s}=e,r=s&7,o=[1,2,4,8].find(i=>i*8>=n)??Math.ceil(n/64)*64,c=new DataView(new ArrayBuffer(o));if(t==="get"){const i=Zt("get",{...e,byteSize:o}),a=vn(r,n,!0);return function(l,u){return a(c,this,l),i.call(c,0,u)}}else{const i=Zt("set",{...e,byteSize:o}),a=vn(r,n,!1);return function(l,u,f){i.call(c,0,u,f),a(this,c,l)}}}const On={};function Eo(t,e,n){const{type:s,bitOffset:r,bitSize:o,structure:c}=e,i=r&7,a=Ce(e),l=In(e)?"":`Bit${i}`,u=s===I.Int||s===I.Uint;let f=`${t}${a}${l}`,m=!1,h=f;if(u&&o===64){const p=c==null?void 0:c.name;(p==="usize"||p==="isize")&&(f+="Size",m=!0)}let d=On[f];if(!d){if(u&&t==="set"){const p=zn(e),b=n(h);d=function(S,v,O){b.call(this,S,p(v),O)}}else if(m&&t==="get"){const p=n(h),b=BigInt(Number.MIN_SAFE_INTEGER),S=BigInt(Number.MAX_SAFE_INTEGER);d=function(v,O){const j=p.call(this,v,O);return b<=j&&j<=S?Number(j):j}}else d=n(f);d&&d.name!==f&&Object.defineProperty(d,"name",{value:f,configurable:!0,writable:!1}),On[f]=d}return d}function To({type:t}){switch(t){case I.Type:case I.Comptime:case I.Literal:return!0;default:return!1}}const Pt={};function qn(){Pt[I.Uint]=Co}function zo(){Pt[I.Float]=jo}function xo(){Pt[I.Object]=Ro}function Io(){Pt[I.Type]=Uo}function Po(){Pt[I.Comptime]=Lo}const _e={};function Vo(){_e[E.Enum]=Do}function Mo(){_e[E.ErrorSet]=_o}function R(t,e){const n=Pt[t.type];return n(t,e)}function $o(t,e){const{structure:n}=e,s=_e[n==null?void 0:n.type];return s?s(t,n):t}function Co(t,e){const n=ko(e,Zt),s=Jn(t,e,n);return $o(s,t)}function ko(t,e){return function(n,s){const{runtimeSafety:r=!0}=t,o=e(n,s);if(r&&n==="set"){const{min:c,max:i}=Ar(s);return function(a,l,u){if(l<c||l>i)throw new Dr(s,l);o.call(this,a,l,u)}}return o}}function jo(t,e){return Jn(t,e,Zt)}function Do(t,e){const n=function(s){const{constructor:r}=e,o=r(s);if(!o)throw new zr(e,s);return o};return{get:t.get.length===0?function(r){const o=t.get.call(this);return r==="number"?o:n(o)}:function(r){const o=t.get.call(this,r);return n(o)},set:t.set.length===1?function(r,o){o!=="number"&&(r=n(r)[Symbol.toPrimitive]()),t.set.call(this,r)}:function(r,o){const c=n(o);t.set.call(this,r,c[Symbol.toPrimitive]())}}}function _o(t,e){const n=function(s){const{constructor:r}=e,o=r(s);if(!o)throw s instanceof Error?new Vn(e):new xr(e,s);return o};return{get:t.get.length===0?function(r){const o=t.get.call(this);return r==="number"?o:n(o)}:function(r){const o=t.get.call(this,r);return n(o)},set:t.set.length===1?function(r,o){if(o!=="number"){const c=n(r);r=Number(c)}t.set.call(this,r)}:function(r,o){const c=n(o);o=Number(c),t.set.call(this,r,o)}}}function Fe(t){switch(t.type){case E.Primitive:case E.ErrorUnion:case E.Optional:case E.Enum:case E.ErrorSet:return!0;default:return!1}}function Wn(t){return(this[x][t]??this[Z](t))[re]()}function Gn(t){return this[x][t]??this[Z](t)}function Fo(t,e){(this[x][t]??this[Z](t))[oe](e)}function Re(t,{get:e,set:n}){return t!==void 0?{get:function(){return e.call(this,t)},set:n?function(s){return n.call(this,t,s)}:void 0}:{get:e,set:n}}function Ro(t,e){const{structure:n,slot:s}=t;return Re(s,{get:Fe(n)?Wn:Gn,set:Fo})}function No(t){const e=this[x][t];return e==null?void 0:e.constructor}function Uo(t,e){const{slot:n}=t;return Re(n,{get:No})}function Lo(t,e){const{slot:n,structure:s}=t;return Re(n,{get:Fe(s)?Wn:Gn})}function Jn(t,e,n){const{littleEndian:s=!0}=e,{bitOffset:r,byteSize:o}=t,c=n("get",t),i=n("set",t);if(r!==void 0){const a=r>>3;return{get:function(){try{return c.call(this[w],a,s)}catch(u){if(u instanceof TypeError&&X.call(this))return c.call(this[w],a,s);throw u}},set:function(u){try{return i.call(this[w],a,u,s)}catch(f){if(f instanceof TypeError&&X.call(this))return i.call(this[w],a,u,s);throw f}}}}else return{get:function(l){try{return c.call(this[w],l*o,s)}catch(u){if(u instanceof TypeError&&X.call(this))return c.call(this[w],l*o,s);throw gn(t,l,u)}},set:function(l,u){try{return i.call(this[w],l*o,u,s)}catch(f){if(f instanceof TypeError&&X.call(this))return i.call(this[w],l*o,u,s);throw gn(t,l,f)}}}}function U(t,e){for(const[n,s]of Object.entries(e))if(s){const{set:r,get:o,value:c,enumerable:i,configurable:a=!0,writable:l=!0}=s;Object.defineProperty(t,n,o?{get:o,set:r,configurable:a,enumerable:i}:{value:c,configurable:a,enumerable:i,writable:l})}for(const n of Object.getOwnPropertySymbols(e)){const s=e[n];s&&Object.defineProperty(t,n,s)}}function rt(t,e,n){const s={};for(const[c,i]of Object.entries(e))i!=null&&i.set&&c!=="$"&&(s[c]=i.set);const{get:r,set:o}=e.$;return U(t.prototype,{[Fn]:{value:Object.keys(s)},[oe]:{value:o},[re]:{value:r},[je]:{value:s},[St]:{value:null},...e}),U(t,n),t}function vt(){const t=Object.getOwnPropertyDescriptors(this.constructor.prototype);for(const[e,n]of Object.entries(t))n.set&&(n.set=zt,Object.defineProperty(this,e,n));Object.defineProperty(this,oe,{value:zt}),Object.defineProperty(this,St,{value:this})}function ot(t,e,n){const{byteSize:s,align:r,instance:{members:o,template:c},hasPointer:i}=t,{modifier:a,initializer:l,finalizer:u,alternateCaster:f,shapeDefiner:m}=e,h=Bo(o);let d;if(c!=null&&c[x]){const S=o.filter(v=>To(v));S.length>0&&(d=S.map(v=>v.slot))}const p=new qo,b=function(S,v={}){const{fixed:O=!1}=v,j=this instanceof b;let M,T;if(j){if(arguments.length===0)throw new Er(t);M=this,h&&(M[x]={}),m?(l.call(M,S,O),T=M[w]):M[w]=T=n.allocateMemory(s,r,O)}else{if(f&&(M=f.call(this,S,v),M!==!1)||(T=bo(t,S,n),M=p.find(T)))return M;M=Object.create(b.prototype),m?Ut.call(M,T,t,!1,!1,{shapeDefiner:m}):M[w]=T,h&&(M[x]={})}if(d)for(const V of d)M[x][V]=c[x][V];return a&&a.call(M),j&&(m||l.call(M,S)),u&&(M=u.call(M)),p.save(T,M)};return b}function Lt({source:t}){const e=t[x][0];e&&this[Me](e)}function ut(t){const{instance:{template:e}}=t;return function(n,s){var f;const r=Object.keys(n),o=this[je],c=this[Fn];for(const m of r)if(!(m in o))throw new Pr(t,m);let i=0,a=0,l=0,u=0;for(const m of c){const h=o[m];h.special?m in n&&u++:(i++,m in n?a++:h.required&&l++)}if(l!==0&&u===0){const m=c.filter(h=>o[h].required&&!(h in n));throw new Ir(t,m)}if(u+a>r.length)for(const m of c)m in n&&(r.includes(m)||r.push(m));a<i&&u===0&&e&&(e[w]&&this[k](e),(f=this[_])==null||f.call(this,Lt,{vivificate:!0,source:e}));for(const m of r)o[m].call(this,n[m],s);return r.length}}function Bo(t){for(const{type:e}of t)switch(e){case I.Object:case I.Comptime:case I.Type:case I.Literal:return!0}return!1}function Kn(){return this}class qo{constructor(){$(this,"map",new WeakMap)}find(e){return this.map.get(e)}save(e,n){return this.map.set(e,n),n}}const An={},En={};function Dt(t,e="utf-8"){let n=An[e];n||(n=An[e]=new TextDecoder(e));let s;if(Array.isArray(t))if(t.length===1)s=t[0];else{let r=0;for(const i of t)r+=i.length;const{constructor:o}=t[0];s=new o(r);let c=0;for(const i of t)s.set(i,c),c+=i.length}else s=t;return n.decode(s)}function Wo(t,e="utf-8"){switch(e){case"utf-16":{const{length:n}=t,s=new Uint16Array(n);for(let r=0;r<n;r++)s[r]=t.charCodeAt(r);return s}default:{let n=En[e];return n||(n=En[e]=new TextEncoder),n.encode(t)}}}function Go(t){const e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=String.fromCharCode.apply(null,e);return btoa(n)}function Jo(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<n.byteLength;s++)n[s]=e.charCodeAt(s);return new DataView(n.buffer)}function W(){return Yn(this,!1)}function Q(){return Yn(this,!0)}const Ko=BigInt(Number.MAX_SAFE_INTEGER),Yo=BigInt(Number.MIN_SAFE_INTEGER);function Yn(t,e){const n=e?"return":"throw",s=new Map,r=function(o){var a,l,u;const c=typeof o=="function"?E.Struct:(a=o==null?void 0:o.constructor)==null?void 0:a[K];if(c===void 0){if(e){if(typeof o=="bigint"&&Yo<=o&&o<=Ko)return Number(o);if(o instanceof Error)return{error:o.message}}return o}let i=s.get(o);if(i===void 0){let f;switch(c){case E.Struct:case E.PackedStruct:case E.ExternStruct:case E.TaggedUnion:case E.BareUnion:case E.ExternUnion:f=(l=o[gt])==null?void 0:l.call(o,{error:n}),i=o.constructor[Dn]?[]:{};break;case E.Array:case E.Vector:case E.Slice:f=(u=o[gt])==null?void 0:u.call(o,{error:n}),i=[];break;case E.Pointer:try{i=o["*"]}catch{i=Symbol.for("inaccessible")}break;case E.Enum:i=Qt(()=>String(o),{error:n});break;case E.Opaque:i={};break;default:i=Qt(()=>o.$,{error:n})}if(i=r(i),s.set(o,i),f)for(const[m,h]of f)i[m]=r(h)}return i};return r(t)}function Qt(t,e={}){const{error:n="throw"}=e;try{return t()}catch(s){debugger;if(n==="return")return s;throw s}}function ft(t,e={}){return le({get(){return X.call(this),this[w]},set(n,s){po(n),Ut.call(this,n,t,!0,s,e)}})}function yt(t,e={}){return le({get(){return Go(this.dataView)},set(n,s){if(typeof n!="string")throw new se("string",n);const r=Jo(n);Ut.call(this,r,t,!1,s,e)}})}function Hn(t,e={}){const{sentinel:n,instance:{members:s}}=t,{byteSize:r}=s[0];return le({get(){const o=this.dataView,c=r===1?Int8Array:Int16Array,i=new c(o.buffer,o.byteOffset,this.length),a=Dt(i,`utf-${r*8}`);return(n==null?void 0:n.value)===void 0?a:a.slice(0,-1)},set(o,c){if(typeof o!="string")throw new se("a string",o);(n==null?void 0:n.value)!==void 0&&o.charCodeAt(o.length-1)!==n.value&&(o=o+String.fromCharCode(n.value));const i=Wo(o,`utf-${r*8}`),a=new DataView(i.buffer);Ut.call(this,a,t,!1,c,e)}})}function Vt(t,e={}){const{typedArray:n}=t;return le({get(){const s=this.dataView,r=s.byteLength/n.BYTES_PER_ELEMENT;return new n(s.buffer,s.byteOffset,r)},set(s,r){if(!go(s,n))throw new se(n.name,s);const o=new DataView(s.buffer,s.byteOffset,s.byteLength);Ut.call(this,o,t,!0,r,e)}})}function le({get:t,set:e}){return t.special=e.special=!0,{get:t,set:e}}let ct,Xt;function Xn(t,e){const{name:n,byteSize:s,align:r,instance:{members:[o]}}=t;if(Xt||(Xt=class extends Zo{},ct=Xn({...t,name:"anyerror"},e)),ct&&n==="anyerror")return t.constructor=ct,t.typedArray=wt(o),ct;const c=Xt,{get:i,set:a}=R(o,e),l=["string","number"],u=ut(t),f=function(S){if(S instanceof h[kt])a.call(this,S);else if(S&&typeof S=="object"&&!_t(S)){if(u.call(this,S)===0)throw new dt(t,l,S)}else S!==void 0&&a.call(this,S)},m=function(S){if(typeof S=="number"||typeof S=="string")return h[S];if(S instanceof h[kt])return h[Number(S)];if(_t(S))return h[`Error: ${S.error}`];if(ce(t,S,e))return!1;throw new dt(t,l,S)},h=t.constructor=ot(t,{initializer:f,alternateCaster:m},e),d=t.typedArray=wt(o),p={$:{get:i,set:a},dataView:ft(t),base64:yt(t),typedArray:d&&Vt(t),valueOf:{value:W},toJSON:{value:Q},delete:{value:lt(e)},[k]:{value:q(s)},[B]:{value:vt}},b={[D]:{value:r},[L]:{value:s},[kt]:{value:c},[bt]:n==="anyerror"?{value:[]}:void 0,[K]:{value:t.type}};return rt(h,p,b)}function Ho(t,e,n){const s=n[re]("number");let r=ct[s];if(!r){const i=t[kt];r=new i(e,s)}const o=String(r),c={[s]:{value:r},[o]:{value:r},[e]:{value:r}};U(t,c),U(ct,c),ct[bt].push(e)}function Xo(){Xt=ct=void 0}class Zo extends Error{constructor(e,n){super($n(e)),this.number=n,this.stack=void 0}[Symbol.toPrimitive](e){switch(e){case"string":case"default":return Error.prototype.toString.call(this,e);default:return this.number}}toJSON(){return{error:this.message}}}function Qo(t,e){const n=(s,{methods:r},o)=>{const c={},i=/^(get|set)\s+([\s\S]+)/;for(const a of r){const l=e.createCaller(a,o),u=i.exec(l.name);if(u){const f=u[1],m=u[2],h=f==="get"?0:1;if(ti(a,o)===h){let p=c[m];p||(p=c[m]={configurable:!0,enumerable:!0}),p[f]=l}}else c[l.name]={value:l,configurable:!0,writable:!0}}U(s,c)};n(t.constructor,t.static,!1),n(t.constructor.prototype,t.instance,!0)}function ti(t,e){const{argStruct:{instance:{members:n}}}=t;return n.length-(e?2:1)}function ei(t,e){const{byteSize:n,align:s,instance:{members:[r]}}=t,{get:o,set:c}=R(r,e),i=["string","number","tagged union"],a=ut(t),l=function(b){if(b&&typeof b=="object"){if(a.call(this,b)===0)throw new dt(t,i,b)}else b!==void 0&&c.call(this,b)},u=function(b){if(typeof b=="string"||typeof b=="number"||typeof b=="bigint"){let S=f[b];if(!S&&f[Rn]&&typeof b!="string"){S=new f(void 0);debugger;c.call(S,b,"number"),Zn(f,`${b}`,S)}return S}else{if(b instanceof f)return b;if((b==null?void 0:b[Sn])instanceof f)return b[Sn];if(ce(t,b,e))return!1;throw new dt(t,i,b)}},f=t.constructor=ot(t,{initializer:l,alternateCaster:u},e),m=t.typedArray=wt(r),h=function(b){switch(b){case"string":case"default":return this.$[jn];default:return o.call(this,"number")}},d={$:{get:o,set:c},dataView:ft(t),base64:yt(t),typedArray:m&&Vt(t),valueOf:{value:W},toString:{value:W},toJSON:{value:Q},delete:{value:lt(e)},[Symbol.toPrimitive]:{value:h},[k]:{value:q(n)},[B]:{value:vt}},p={[D]:{value:s},[L]:{value:n},[K]:{value:t.type}};return rt(f,d,p)}function Zn(t,e,n){if(e!==void 0){if(n instanceof t){U(n,{[jn]:{value:e}});const s=n[Symbol.toPrimitive]();U(t,{[s]:{value:n},[e]:{value:n}})}}else U(t,{[Rn]:{value:!0}})}function ni(t,e){const{byteSize:n,align:s,instance:{members:[r]},isConst:o}=t,{runtimeSafety:c=!0}=e,{structure:i}=r,{type:a,sentinel:l,length:u}=i,f=a===E.Slice&&i.length===void 0&&!l,m=f?n/2:n,{get:h,set:d}=R({type:I.Uint,bitOffset:0,bitSize:m*8,byteSize:m,structure:{byteSize:m}},e),{get:p,set:b}=f?R({type:I.Uint,bitOffset:m*8,bitSize:m*8,byteSize:m,structure:{name:"usize",byteSize:m}},e):{},S=function(){const A=this[At];if(A){const C=this[Ve]();if(C.address!==A.address||C.length!==A.length){const{constructor:tt}=i,it=e.findMemory(C.address,C.length,tt[L]),ze=tt.call(jt,it);this[x][0]=ze,this[At]=C}}},v=function(){S.call(this);const A=this[x][0];if(!A)throw new pn;return o?Qn(A):A},O=function(A){if(e.inFixedMemory(this))if(e.inFixedMemory(A)){const C={address:e.getViewAddress(A[w]),length:f?A.length:yn};fn.call(this,C),this[At]=C}else throw new jr(t,A);this[x][0]=A},j=Fe(i)?function(){return v.call(this)[re]()}:v,M=o?zt:function(A){S.call(this);const C=this[x][0];if(!C)throw new pn;return C[oe](A)},T=function(A,C){const tt=i.constructor;if(this===jt||this===ke||A instanceof ht)return!1;if(Tn(A,tt))return new ht(tt(A["*"]),C);if(a===E.Slice)return new ht(tt(A),C);throw new Mr(t)},V=function(){const A=a===E.Pointer?{}:ai,C=new Proxy(this,A);return Object.defineProperty(this,ie,{value:C}),C},H=function(A){var tt;const C=i.constructor;if(Tn(A,C)){if(!o&&A.constructor.const)throw new $r(t,A);A=A[x][0]}if(A instanceof C){X.call(A);const it=A[St];if(it)if(o)A=it;else throw new Rr(t)}else if(So(A,C)){const it=ce(i,A,e);A=C(it)}else if(A!==void 0&&!A[w]){const it=e.inFixedMemory(this),ze=new C(A,{fixed:it});if(c&&i.typedArray){const hn=(tt=A==null?void 0:A.buffer)==null?void 0:tt[Symbol.toStringTag];(hn==="ArrayBuffer"||hn==="SharedArrayBuffer")&&Ur(i,A)}A=ze}else if(A!==void 0)throw new kr(t,A);this[Me](A)},ht=t.constructor=ot(t,{initializer:H,alternateCaster:T,finalizer:V},e),fn=function({address:A,length:C}){d.call(this,A),b==null||b.call(this,C)},yn=a!=E.Slice?1:u,br=function(){const A=h.call(this),C=p?p.call(this):l?A?e.findSentinel(A,l.bytes)+1:0:yn;return{address:A,length:C}},gr={"*":{get:j,set:M},$:{get:Ne,set:H},valueOf:{value:W},toJSON:{value:Q},delete:{value:ri},[Symbol.toPrimitive]:a===E.Primitive&&{value:oi},[mt]:{value:v},[Me]:{value:O},[Ve]:{value:br},[_n]:{value:fn},[_]:{value:ci},[k]:{value:q(n)},[At]:{value:void 0,writable:!0},[B]:{value:si}},Sr={child:{get:()=>i.constructor},const:{value:o},[D]:{value:s},[L]:{value:n},[K]:{value:t.type}};return rt(ht,gr,Sr)}function si(){const t=this[Ft],e=Object.getOwnPropertyDescriptor(t.constructor.prototype,"$");e.set=zt,Object.defineProperty(t,"$",e),Object.defineProperty(t,St,{value:t})}function ri(){const t=this[x][0];t==null||t.delete()}function oi(t){return this[x][0][Symbol.toPrimitive](t)}function Ne(){return this[ie]}function ii({isActive:t}){this[x][0]&&!t(this)&&(this[x][0]=void 0)}function ci(t,e={}){const{source:n,isActive:s=et,isMutable:r=et}=e;t.call(this,{source:n,isActive:s,isMutable:r})}function Tn(t,e){var n;return((n=t==null?void 0:t.constructor)==null?void 0:n.child)===e&&t["*"]}function Qn(t){let e=t[xe];return e||(Object.defineProperty(t,xe,{value:void 0,configurable:!0}),e=new Proxy(t,li),Object.defineProperty(t,xe,{value:e})),e}const ai={get(t,e){return e===Ft?t:e in t?t[e]:t[mt]()[e]},set(t,e,n){if(e in t)t[e]=n;else{const s=t[mt]();s[e]=n}return!0},deleteProperty(t,e){if(e in t)delete t[e];else{const n=t[mt]();delete n[e]}return!0},has(t,e){if(e in t)return!0;{const n=t[mt]();return e in n}}},li={get(t,e){if(e===St)return t;{const n=t[e];return(n==null?void 0:n[St])===null?Qn(n):n}},set(t,e,n){const s=t[Ft];if(s&&!(e in s))return t[e]=n,!0;zt()}};function et(){return!0}function ui(t,e){const{length:n,byteSize:s,align:r,instance:{members:[o]}}=t,{bitSize:c,structure:i}=o,a={};for(let p=0,b=0;p<n;p++,b+=c){const{get:S,set:v}=R({...o,bitOffset:b},e);a[p]={get:S,set:v,configurable:!0}}const l=ut(t),u=function(p){if(p instanceof f)this[k](p);else if(p!=null&&p[Symbol.iterator]){let b=p.length;if(typeof b!="number"&&(p=[...p],b=p.length),b!==n)throw new ne(t,this,p);let S=0;for(const v of p)this[je][S++].call(this,v)}else if(p&&typeof p=="object"){if(l.call(this,p)===0)throw new pt(t,p)}else if(p!==void 0)throw new pt(t,p)},f=t.constructor=ot(t,{initializer:u},e),m=t.typedArray=wt(o),h={...a,$:{get:Kn,set:u},length:{value:n},dataView:ft(t),base64:yt(t),typedArray:m&&Vt(t),valueOf:{value:W},toJSON:{value:Q},entries:{value:te},delete:{value:lt(t)},[Symbol.iterator]:{value:ts},[gt]:{value:te},[k]:{value:q(s)},[B]:{value:vt}},d={child:{get:()=>i.constructor},[Nt]:{value:ae(t)},[D]:{value:r},[L]:{value:s},[K]:{value:t.type}};return rt(f,h,d)}function ts(){const t=this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const o=n++;s=t[o],r=!1}else r=!0;return{value:s,done:r}}}}function fi(){const t=this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const o=n++;s=[o,t[o]],r=!1}else r=!0;return{value:s,done:r}}}}function te(){return{[Symbol.iterator]:fi.bind(this),length:this.length}}function yi(t,e){const{byteSize:n,align:s,instance:{members:r},isTuple:o,hasPointer:c}=t,i={},a=r.filter(O=>!!O.name),l=r.find(O=>!O.name);for(const O of a){const{get:j,set:M}=R(O,e);i[O.name]={get:j,set:M,configurable:!0,enumerable:!0},O.isRequired&&M&&(M.required=!0)}const u=l?R(l,e):null,f=!!r.find(O=>O.type===I.Object),m=ut(t),h=function(O){if(O instanceof d)this[k](O),c&&this[_](Lt,{vivificate:!0,source:O});else if(O&&typeof O=="object")m.call(this,O);else if((typeof O=="number"||typeof O=="bigint")&&u)u.set.call(this,O);else if(O!==void 0)throw new dt(t,"object",O)},d=t.constructor=ot(t,{initializer:h},e),p=u?function(O){switch(O){case"string":return Object.prototype.toString.call(this);default:return u.get.call(this)}}:null,b=o&&r.length>0?parseInt(r[r.length-1].name)+1:0,S={$:{get:Kn,set:h},dataView:ft(t),base64:yt(t),length:o&&{value:b},valueOf:{value:W},toJSON:{value:Q},delete:{value:lt(e)},entries:o&&{value:te},...i,[Symbol.iterator]:{value:o?ts:es},[Symbol.toPrimitive]:u&&{value:p},[gt]:{value:o?te:Ue},[k]:{value:q(n)},[Z]:f&&{value:Le(t)},[_]:c&&{value:Be(t,et)},[B]:{value:vt},[bt]:{value:a.map(O=>O.name)}},v={[D]:{value:s},[L]:{value:n},[K]:{value:t.type},[Dn]:{value:o}};return rt(d,S,v)}function Ue(t){return{[Symbol.iterator]:hi.bind(this,t),length:this[bt].length}}function es(t){return Ue.call(this,t)[Symbol.iterator]()}function hi(t){const e=this,n=this[bt];let s=0;return{next(){let r,o;if(s<n.length){const c=n[s++];r=[c,Qt(()=>e[c],t)],o=!1}else o=!0;return{value:r,done:o}}}}function Le(t){const{instance:{members:e}}=t,n={};for(const s of e.filter(r=>r.type===I.Object))n[s.slot]=s;return function(r){const o=n[r],{bitOffset:c,byteSize:i,structure:{constructor:a}}=o,l=this[w],f=l.byteOffset+(c>>3);let m=i;if(m===void 0){if(c&7)throw new _r(o);m=o.bitSize>>3}const h=new DataView(l.buffer,f,m);return this[x][r]=a.call(ke,h)}}function Be(t,e={}){const{isChildActive:n=et,isChildMutable:s=et}=e,{instance:{members:r}}=t,o=r.filter(c=>c.structure.hasPointer);return function(i,a={}){var d;const{source:l,vivificate:u=!1,isActive:f=et,isMutable:m=et}=a,h={...a,isActive:p=>f(this)&&n.call(this,p),isMutable:p=>m(this)&&s.call(this,p)};for(const{slot:p}of o){if(l){const S=(d=l[x])==null?void 0:d[p];if(!S)continue;h.source=S}const b=this[x][p]??(u?this[Z](p):null);b&&b[_](i,h)}}}function mi(t,e){const{type:n,constructor:s,static:{members:r,template:o}}=t,c={};for(const i of r)c[i.name]=R(i,e);if(U(s,{valueOf:{value:W},toJSON:{value:Q},...c,[Symbol.iterator]:{value:es},[gt]:{value:Ue},[x]:o&&{value:o[x]},[bt]:!s[bt]&&{value:r.map(i=>i.name)}}),n===E.Enum)for(const{name:i,slot:a}of r)Zn(s,i,s[x][a]);else if(n===E.ErrorSet)for(const{name:i,slot:a}of r)Ho(s,i,s[x][a])}function pi(t,e){const{byteSize:n,align:s,instance:{members:r},hasPointer:o,name:c}=t,i=!!r.find(h=>h.type===I.Object),a=r.slice(0,-1).map(h=>h.name),l=a.length,u=t.constructor=function(h,d,p){const b=e.allocateMemory(n,s);if(this[w]=b,i&&(this[x]={}),h.length!==l)throw new Vr(d,l-p,h.length-p);for(const[S,v]of a.entries())try{this[v]=h[S]}catch(O){throw Nr(d,S-p,l-p,O)}},f={};for(const h of r)f[h.name]=R(h,e);const m=function(h){return h===this.retval};return U(u.prototype,{...f,[k]:{value:q(n)},[Z]:i&&{value:Le(t)},[_]:o&&{value:Be(t,{isChildMutable:m})}}),U(u,{[D]:{value:s},[L]:{value:n}}),u}function di(t,e){const{length:n,byteSize:s,align:r,instance:{members:[o]},hasPointer:c}=t,{get:i,set:a}=R(o,e),l=rs(o),u=ut(t),f=function(v){if(v instanceof h)this[k](v),c&&this[_](Lt,{vivificate:!0,source:v});else if(typeof v=="string"&&l&&(v={string:v}),v!=null&&v[Symbol.iterator]){if(v=as(v),v.length!==n)throw new ne(t,this,v);let O=0;for(const j of v)a.call(this,O++,j)}else if(v&&typeof v=="object"){if(u.call(this,v)===0)throw new pt(t,v)}else if(v!==void 0)throw new pt(t,v)},m=ns,h=t.constructor=ot(t,{initializer:f,finalizer:m},e),d=t.typedArray=wt(o),p=o.type===I.Object,b={$:{get:Ne,set:f},length:{value:n},dataView:ft(t),base64:yt(t),string:l&&Hn(t),typedArray:d&&Vt(t),get:{value:i},set:{value:a},entries:{value:ee},valueOf:{value:W},toJSON:{value:Q},delete:{value:lt(e)},[Symbol.iterator]:{value:os},[gt]:{value:ee},[k]:{value:q(s)},[Z]:p&&{value:is(t)},[_]:c&&{value:cs()},[B]:{value:ss}},S={child:{get:()=>o.structure.constructor},[Nt]:{value:ae(t)},[D]:{value:r},[L]:{value:s},[K]:{value:t.type}};return rt(h,b,S)}function ns(){const t=new Proxy(this,gi);return Object.defineProperty(this,ie,{value:t}),t}function ss(){vt.call(this),Object.defineProperty(this,"set",{value:zt});const t=this.get;Object.defineProperty(this,"get",{value:function(n){var r;const s=t.call(this,n);return(s==null?void 0:s[St])===null&&((r=s[B])==null||r.call(s)),s}})}function rs(t){return t.type===I.Uint&&[8,16].includes(t.bitSize)}function os(){const t=this[De]??this,e=this.length;let n=0;return{next(){let s,r;if(n<e){const o=n++;s=t.get(o),r=!1}else r=!0;return{value:s,done:r}}}}function bi(t){const e=this[De]??this,n=this.length;let s=0;return{next(){let r,o;if(s<n){const c=s++;r=[c,Qt(()=>e.get(c),t)],o=!1}else o=!0;return{value:r,done:o}}}}function ee(t){return{[Symbol.iterator]:bi.bind(this,t),length:this.length}}function is(t){const{instance:{members:[e]}}=t,{byteSize:n,structure:s}=e;return function(o){const{constructor:c}=s,i=this[w],l=i.byteOffset+n*o,u=new DataView(i.buffer,l,n);return this[x][o]=c.call(ke,u)}}function cs(t){return function(n,s={}){const{source:r,vivificate:o=!1,isActive:c=et,isMutable:i=et}=s,a={...s,isActive:()=>c(this),isMutable:()=>i(this)};for(let l=0,u=this.length;l<u;l++){r&&(a.source=r==null?void 0:r[x][l]);const f=this[x][l]??(o?this[Z](l):null);f&&f[_](n,a)}}}function as(t){var r;if(typeof t.length=="number")return t;const e=t[Symbol.iterator](),n=e.next(),s=(r=n.value)==null?void 0:r.length;if(typeof s=="number"&&Object.keys(n.value).join()==="length")return Object.assign(function*(){let o;for(;!(o=e.next()).done;)yield o.value}(),{length:s});{const o=[];let c=n;for(;!c.done;)o.push(c.value),c=e.next();return o}}const gi={get(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return t.get(n);switch(e){case"get":return t[$t]||(t[$t]=t.get.bind(t)),t[$t];case"set":return t[Ct]||(t[Ct]=t.set.bind(t)),t[Ct];case De:return t;default:return t[e]}},set(t,e,n){const s=typeof e=="symbol"?0:e|0;if(s!==0||s==e)t.set(s,n);else switch(e){case"get":t[$t]=n;break;case"set":t[Ct]=n;break;default:t[e]=n}return!0},deleteProperty(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e)return!1;switch(e){case"get":delete t[$t];break;case"set":delete t[Ct];break;default:delete t[e]}return!0},has(t,e){const n=typeof e=="symbol"?0:e|0;return n!==0||n==e?n>=0&&n<t.length:t[e]},ownKeys(t){const e=[];for(let n=0,s=t.length;n<s;n++)e.push(`${n}`);return e.push("length",ie),e},getOwnPropertyDescriptor(t,e){const n=typeof e=="symbol"?0:e|0;if(n!==0||n==e){if(n>=0&&n<t.length)return{value:t.get(n),enumerable:!0,writable:!0,configurable:!0}}else return Object.getOwnPropertyDescriptor(t,e)}};function Si(t,e){const{byteSize:n,align:s,instance:{members:r},hasPointer:o}=t,{get:c,set:i}=R(r[0],e),{get:a,set:l}=R(r[1],e),u=function(){if(a.call(this,"number"))throw a.call(this);return c.call(this)},f=r[0].type===I.Void,m=r[1].structure.constructor,h=function(){return!a.call(this,"number")},d=function(){var V;this[wn](),(V=this[_])==null||V.call(this,ii)},p=!!r.find(V=>V.type===I.Object),b=ut(t),S=function(V){if(V instanceof v)this[k](V),o&&h.call(this)&&this[_](Lt,{vivificate:!0,source:V});else if(V instanceof m[kt]&&m(V))l.call(this,V),d.call(this);else if(V!==void 0||f)try{i.call(this,V),l.call(this,0,"number")}catch(H){if(V instanceof Error)throw new Vn(t);if(_t(V))l.call(this,V),d.call(this);else if(V&&typeof V=="object"){if(b.call(this,V)===0)throw H}else throw H}},v=t.constructor=ot(t,{initializer:S},e),{bitOffset:O,byteSize:j}=r[0],M={$:{get:u,set:S},dataView:ft(t),base64:yt(t),valueOf:{value:W},toJSON:{value:Q},delete:{value:lt(e)},[k]:{value:q(n)},[wn]:{value:Qr(O/8,j)},[Z]:p&&{value:Le(t)},[_]:o&&{value:Be(t,{isChildActive:h})},[B]:{value:vt}},T={[D]:{value:s},[L]:{value:n},[K]:{value:t.type}};return rt(v,M,T)}function wi(t,e){const{byteSize:n,align:s,instance:{members:[r]}}=t,{get:o,set:c}=R(r,e),i=ut(t),a=function(h){if(h instanceof l)this[k](h);else if(h&&typeof h=="object"){if(i.call(this,h)===0){const d=xn(r);throw new dt(t,d,h)}}else h!==void 0&&c.call(this,h)},l=t.constructor=ot(t,{initializer:a},e),u=t.typedArray=wt(r),f={$:{get:o,set:c},dataView:ft(t),base64:yt(t),typedArray:u&&Vt(t),valueOf:{value:W},toJSON:{value:Q},delete:{value:lt(e)},[Symbol.toPrimitive]:{value:o},[k]:{value:q(n)},[B]:{value:vt}},m={[Nt]:{value:ae(t)},[D]:{value:s},[L]:{value:n},[K]:{value:t.type}};return rt(l,f,m)}function vi(t,e){const{align:n,instance:{members:[s]},hasPointer:r}=t,{get:o,set:c}=R(s,e),{byteSize:i,structure:a}=s,l=Ai(t,e);l&&(t.sentinel=l);const u=rs(s),f=function(T,V,H=!1){T||(T=e.allocateMemory(V*i,n,H)),this[w]=T,this[$e]=V},m=function(T,V){if(V!==this[$e])throw new ne(t,this,T)},h=ut(t),d=function(T,V=!1){if(T instanceof b)this[w]?m.call(this,T,T.length):f.call(this,null,T.length,V),this[k](T),r&&this[_](Lt,{vivificate:!0,source:T});else if(typeof T=="string"&&u)d.call(this,{string:T},V);else if(T!=null&&T[Symbol.iterator]){T=as(T),this[w]?m.call(this,T,T.length):f.call(this,null,T.length,V);let H=0;for(const ht of T)l==null||l.validateValue(ht,H,T.length),c.call(this,H++,ht)}else if(typeof T=="number")if(!this[w]&&T>=0&&isFinite(T))f.call(this,null,T);else throw new pt(t,T,!this[w]);else if(T&&typeof T=="object"){if(h.call(this,T,V)===0)throw new pt(t,T)}else if(T!==void 0)throw new pt(t,T)},p=ns,b=t.constructor=ot(t,{initializer:d,shapeDefiner:f,finalizer:p},e),S=t.typedArray=wt(s),v=s.type===I.Object,O={shapeDefiner:f},j={$:{get:Ne,set:d},length:{get:Oi},dataView:ft(t,O),base64:yt(t,O),string:u&&Hn(t,O),typedArray:S&&Vt(t,O),get:{value:o},set:{value:c},entries:{value:ee},valueOf:{value:W},toJSON:{value:Q},delete:{value:lt(e)},[Symbol.iterator]:{value:os},[gt]:{value:ee},[k]:{value:q(i,!0)},[Z]:v&&{value:is(t)},[_]:r&&{value:cs()},[B]:{value:ss}},M={child:{get:()=>a.constructor},[Nt]:{value:ae(t)},[D]:{value:n},[L]:{value:i},[K]:{value:t.type}};return rt(b,j,M)}function Oi(){return this[$e]}function Ai(t,e){const{runtimeSafety:n=!0}=e,{byteSize:s,instance:{members:[r,o],template:c}}=t;if(!o)return;const{get:i}=R(o,e),a=i.call(c,0),{get:l}=R(r,e),u=n?function(h,d,p){if(h===a&&d!==p-1)throw new mn(t,h,d,p);if(h!==a&&d===p-1)throw new Yt(t,a,d,p)}:function(h,d,p){if(h!==a&&d===p-1)throw new Yt(t,a,p)},f=n?function(h,d){for(let p=0;p<d;p++){const b=l.call(h,p);if(b===a&&p!==d-1)throw new mn(t,a,p,d);if(b!==a&&p===d-1)throw new Yt(t,a,d)}}:function(h,d){if(d*s===h[w].byteLength){const p=d-1;if(l.call(h,p)!==a)throw new Yt(t,a,d)}},m=c[w];return{value:a,bytes:m,validateValue:u,validateData:f}}const Y=Array(Object.values(E).length);function Ei(){Y[E.Primitive]=wi}function Ti(){Y[E.Array]=di}function zi(){Y[E.Struct]=yi}function xi(){Y[E.ArgStruct]=pi}function Ii(){Y[E.ErrorUnion]=Si}function Pi(){Y[E.ErrorSet]=Xn,Mo()}function Vi(){Y[E.Enum]=ei,Vo()}function Mi(){Y[E.Pointer]=ni,qn()}function $i(){Y[E.Slice]=vi}function Ci(){Y[E.Vector]=ui}function ki(t){return Y[t]}class ji{constructor(){$(this,"context");$(this,"contextStack",[]);$(this,"consolePending",[]);$(this,"consoleTimeout",0);$(this,"viewMap",new WeakMap);$(this,"abandoned",!1);$(this,"released",!1);$(this,"littleEndian",!0);$(this,"runtimeSafety",!0);$(this,"comptime",!1);$(this,"variables",[]);$(this,"imports");$(this,"console",globalThis.console)}startContext(){this.context&&this.contextStack.push(this.context),this.context=new Di}endContext(){this.context=this.contextStack.pop()}allocateMemory(e,n=0,s=!1){return s?this.allocateFixedMemory(e,n):this.allocateRelocMemory(e,n)}allocateRelocMemory(e,n){return this.obtainView(new ArrayBuffer(e),0,e)}registerMemory(e,n=null,s=void 0){const{memoryList:r}=this.context,o=this.getViewAddress(e),c=Ie(r,o);return r.splice(c,0,{address:o,dv:e,len:e.byteLength,targetDV:n,targetAlign:s}),o}unregisterMemory(e){const{memoryList:n}=this.context,s=Ie(n,e),r=n[s-1];(r==null?void 0:r.address)===e&&n.splice(s-1,1)}findMemory(e,n,s){if(Ri(e))if(!n)e=0;else return null;else if(!e&&n)return null;let r=n*(s??0);if(this.context){const{memoryList:o}=this.context,c=Ie(o,e),i=o[c-1];if((i==null?void 0:i.address)===e&&i.len===r)return i.targetDV??i.dv;if((i==null?void 0:i.address)<=e&&e<Ot(i.address,i.len)){const a=Number(e-i.address),l=i.targetDV??i.dv,u=s===void 0;u&&(r=l.byteLength-a);const f=this.obtainView(l.buffer,l.byteOffset+a,r);return u&&(f[D]=i.targetAlign),f}}return this.obtainFixedView(e,r)}getViewAddress(e){const n=this.getBufferAddress(e.buffer);return Ot(n,e.byteOffset)}obtainView(e,n,s){let r=this.viewMap.get(e);if(!r){const i=new DataView(e,n,s);return this.viewMap.set(e,i),i}if(r instanceof DataView){if(r.byteOffset===n&&r.byteLength===s)return r;{const i=r;r={[`${i.byteOffset}:${i.byteLength}`]:i},this.viewMap.set(e,r)}}const o=`${n}:${s}`;let c=r[o];return c||(c=r[o]=new DataView(e,n,s)),c}captureView(e,n,s){if(s){const r=this.allocateRelocMemory(n,0);return n>0&&this.copyBytes(r,e,n),r}else return this.obtainFixedView(e,n)}castView(e,n,s,r){const{constructor:o,hasPointer:c}=r,i=this.captureView(e,n,s),a=o.call(jt,i);return c&&this.acquirePointerTargets(a),s&&a[B](),a}finalizeShape(e){const s=ki(e.type)(e,this);typeof s=="function"&&(U(s,{name:{value:e.name,configurable:!0}}),s.prototype.hasOwnProperty(Symbol.toStringTag)||U(s.prototype,{[Symbol.toStringTag]:{value:e.name,configurable:!0}}))}finalizeStructure(e){mi(e,this),Qo(e,this)}createCaller(e,n){const{name:s,argStruct:r,thunkId:o}=e,{constructor:c}=r,i=this;let a;return n?a=function(...l){return i.invokeThunk(o,new c([this,...l],s,1))}:a=function(...l){return i.invokeThunk(o,new c(l,s,0))},Object.defineProperty(a,"name",{value:s}),a}recreateStructures(e,n){Object.assign(this,n);const s=(c,i)=>{for(const[a,l]of Object.entries(i))c[a]=r(l);return c},r=c=>{var u;const{memory:i,structure:a,actual:l}=c;if(i){if(l)return l;{const{array:f,offset:m,length:h}=i,d=this.obtainView(f.buffer,m,h),{constructor:p}=a,{reloc:b,const:S}=c,v=c.actual=p.call(jt,d);return S&&((u=v[B])==null||u.call(v)),c.slots&&s(v[x],c.slots),b!==void 0&&this.variables.push({reloc:b,object:v}),v}}else return a};Xo();const o=new Map;for(const c of e){for(const i of[c.instance,c.static])if(i.template){const a=i.template,l=i.template={};if(a.memory){const{array:u,offset:f,length:m}=a.memory;l[w]=this.obtainView(u.buffer,f,m)}if(a.slots){const u=l[x]={};o.set(u,a.slots)}}this.finalizeShape(c)}for(const[c,i]of o)s(c,i);for(const c of e)this.finalizeStructure(c)}linkVariables(e){const n=[];for(const{object:s,reloc:r}of this.variables)this.linkObject(s,r,e),s[mt]&&s[x][0]&&n.push(s);for(const s of n){const r=s[mt](),o=this.getViewAddress(r[w]),{length:c=1}=r;s[At]={address:o,length:c}}}linkObject(e,n,s){if(this.inFixedMemory(e))return;const r=e[w],o=this.recreateAddress(n),c=this.obtainFixedView(o,r.byteLength);if(s){const a=Object.create(e.constructor.prototype);a[w]=c,a[k](e)}e[w]=c;const i=a=>{if(a[x]){for(const l of Object.values(a[x]))if(l){const u=l[w];if(u.buffer===r.buffer){const f=u.byteOffset-r.byteOffset;l[w]=this.obtainView(c.buffer,f,u.byteLength),i(l)}}}};i(e)}unlinkVariables(){for(const{object:e}of this.variables)this.unlinkObject(e)}unlinkObject(e){if(!this.inFixedMemory(e))return;const n=e[w],s=this.allocateMemory(n.byteLength),r=Object.create(e.constructor.prototype);r[w]=s,r[k](e),e[w]=s}releaseFunctions(){const e=()=>{throw new Error("Module was abandoned")};for(const n of Object.keys(this.imports))this[n]&&(this[n]=e)}getSpecialExports(){const e=n=>{if(n===void 0)throw new Error("Not a Zig type");return n};return{init:(...n)=>this.init(...n),abandon:()=>this.abandon(),released:()=>this.released,connect:n=>this.console=n,sizeOf:n=>e(n[L]),alignOf:n=>e(n[D]),typeOf:n=>Or(e(n[K]))}}abandon(){this.abandoned||(this.releaseFunctions(),this.unlinkVariables(),this.abandoned=!0)}writeToConsole(e){const{console:n}=this;try{const s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength).slice(),r=s.lastIndexOf(10);if(r===-1)this.consolePending.push(s);else{const o=s.subarray(0,r),c=s.subarray(r+1),i=[...this.consolePending,o];n.log(Dt(i)),this.consolePending=c.length>0?[c]:[]}clearTimeout(this.consoleTimeout),this.consolePending.length>0&&(this.consoleTimeout=setTimeout(()=>{n.log(Dt(this.consolePending)),this.consolePending=[]},250))}catch(s){n.error(s)}}flushConsole(){this.consolePending.length>0&&(console.log(Dt(this.consolePending)),this.consolePending=[],clearTimeout(this.consoleTimeout))}updatePointerAddresses(e){const n=new Map,s=new Map,r=[],o=this,c=function({isActive:l}){var m;if(!l(this))return;const u=this[Ft];if(n.get(u))return;const f=u[x][0];if(f&&(n.set(u,f),!o.inFixedMemory(f))){const h=f[w],d=s.get(h.buffer);if(d){const p=Array.isArray(d)?d:[d],b=ls(p,h.byteOffset,S=>S[w].byteOffset);p.splice(b,0,f),Array.isArray(d)||(s.set(h.buffer,p),r.push(p))}else s.set(h.buffer,f);(m=f[_])==null||m.call(f,c)}};e[_](c);const i=this.findTargetClusters(r),a=new Map;for(const l of i)for(const u of l.targets)a.set(u,l);for(const[l,u]of n){const f=a.get(u),{length:m=1}=u;let h=this.getTargetAddress(u,f);h===!1&&(h=this.getShadowAddress(u,f)),l[_n]({address:h,length:m})}}findTargetClusters(e){const n=[];for(const s of e){let r=null,o=0,c=0,i=null;for(const a of s){const l=a[w],{byteOffset:u,byteLength:f}=l,m=u+f;let h=!0;r&&(c>u?(i||(i={targets:[r],start:o,end:c,address:void 0,misaligned:void 0},n.push(i)),i.targets.push(a),m>c?i.end=m:h=!1):i=null),h&&(r=a,o=u,c=m)}}return n}createClusterShadow(e){const{start:n,end:s,targets:r}=e;let o=0,c;for(const S of r){const v=S[w],O=v.byteOffset,j=S.constructor[D]??v[D];(o===void 0||j>o)&&(o=j,c=O)}const i=s-n,a=this.allocateShadowMemory(i+o,1),l=this.getViewAddress(a),u=Fi(Ot(l,c-n),o),f=Ot(u,n-c),m=a.byteOffset+Number(f-l),h=new DataView(a.buffer,m,i);for(const S of r){const v=S[w],O=v.byteOffset;if(O!==c){const j=S.constructor[D]??v[D];if(_i(Ot(f,O-n),j))throw new Cr(j,o)}}const d={[k]:q(i)},p=Object.create(d),b=Object.create(d);return p[w]=new DataView(r[0][w].buffer,Number(n),i),b[w]=h,b[Ht]={address:l,len:a.byteLength,align:1},this.addShadow(b,p,1)}getShadowAddress(e,n){if(n){const s=e[w];if(n.address===void 0){const r=this.createClusterShadow(n);n.address=this.getViewAddress(r[w])}return Ot(n.address,s.byteOffset-n.start)}else{const s=this.createShadow(e);return this.getViewAddress(s[w])}}createShadow(e){const n=e[w],s=e.constructor[D]??n[D],r=Object.create(e.constructor.prototype),o=r[w]=this.allocateShadowMemory(n.byteLength,s);return r[Ht]={address:this.getViewAddress(o),len:o.byteLength,align:s},this.addShadow(r,e,s)}addShadow(e,n,s){let{shadowMap:r}=this.context;return r||(r=this.context.shadowMap=new Map),r.set(e,n),this.registerMemory(e[w],n[w],s),e}removeShadow(e){const{shadowMap:n}=this.context;if(n){for(const[s]of n)if(s[w]===e){n.delete(s);break}}}updateShadows(){const{shadowMap:e}=this.context;if(e)for(const[n,s]of e)n[k](s)}updateShadowTargets(){const{shadowMap:e}=this.context;if(e)for(const[n,s]of e)s[k](n)}releaseShadows(){const{shadowMap:e}=this.context;if(e)for(const[n]of e){const{address:s,len:r,align:o}=n[Ht];this.freeShadowMemory(s,r,o)}}acquirePointerTargets(e){const n=this,s=new Map,r=function({isActive:o,isMutable:c}){var m,h;const i=this[Ft];if(s.get(i))return;s.set(i,!0);const a=!i.constructor.const,l=i[x][0];let u,f;if(o(this)){const d=i.constructor.child;if(!l||c(this)){f=i[Ve]();const p=n.findMemory(f.address,f.length,d[L]);u=p?d.call(jt,p):null}else u=l}(m=l==null?void 0:l[_])==null||m.call(l,r,{vivificate:!0,isMutable:()=>a}),u!==l&&((h=u==null?void 0:u[_])==null||h.call(u,r,{vivificate:!0,isMutable:()=>a}),i[x][0]=u,n.inFixedMemory(i)&&(i[At]=f))};e[_](r,{vivificate:!0})}}class Di{constructor(){$(this,"pointerProcessed",new Map);$(this,"memoryList",[]);$(this,"shadowMap",null);$(this,"call",0)}}function ls(t,e,n){let s=0,r=t.length;if(r===0)return 0;for(;s<r;){const o=Math.floor((s+r)/2);n(t[o])<=e?s=o+1:r=o}return r}function Ie(t,e){return ls(t,e,n=>n.address)}function _i(t,e){if(e===void 0)return!1;typeof t=="bigint"&&(t=Number(t&0xFFFFFFFFn));const n=e-1;return(t&n)!==0}function Fi(t,e){let n;return typeof t=="bigint"?(e=BigInt(e),n=~(e-1n)):n=~(e-1),(t&n)+e}function Ot(t,e){return t+(typeof t=="bigint"?BigInt(e):e)}function Ri(t){return typeof t=="bigint"?t===0xaaaaaaaaaaaaaaaan:t===2863311530}class Ni extends ji{constructor(){super(...arguments);$(this,"imports",{getFactoryThunk:{argType:"",returnType:"i"},allocateExternMemory:{argType:"ii",returnType:"i"},freeExternMemory:{argType:"iii"},allocateShadowMemory:{argType:"cii",returnType:"v"},freeShadowMemory:{argType:"ciii"},runThunk:{argType:"iv",returnType:"v"},isRuntimeSafetyActive:{argType:"",returnType:"b"},flushStdout:{argType:"",returnType:""}});$(this,"exports",{allocateHostMemory:{argType:"ii",returnType:"v"},freeHostMemory:{argType:"iii"},captureString:{argType:"ii",returnType:"v"},captureView:{argType:"iib",returnType:"v"},castView:{argType:"iibv",returnType:"v"},readSlot:{argType:"vi",returnType:"v"},writeSlot:{argType:"viv"},getViewAddress:{argType:"v",returnType:"i"},beginDefinition:{returnType:"v"},insertInteger:{argType:"vsi",alias:"insertProperty"},insertBoolean:{argType:"vsb",alias:"insertProperty"},insertString:{argType:"vss",alias:"insertProperty"},insertObject:{argType:"vsv",alias:"insertProperty"},beginStructure:{argType:"v",returnType:"v"},attachMember:{argType:"vvb"},attachMethod:{argType:"vvb"},createTemplate:{argType:"v",returnType:"v"},attachTemplate:{argType:"vvb"},finalizeShape:{argType:"v"},endStructure:{argType:"v"},startCall:{argType:"iv",returnType:"i"},endCall:{argType:"iv",returnType:"i"}});$(this,"nextValueIndex",1);$(this,"valueTable",{0:null});$(this,"valueIndices",new Map);$(this,"memory",null);$(this,"initPromise",null);$(this,"customWASI",null);$(this,"hasCodeSource",!1);$(this,"littleEndian",!0)}async init(n){if(n&&this.hasCodeSource)throw new Error("Cannot set WASI interface after compilation has already begun (consider disabling topLevelAwait)");this.customWASI=n,await this.initPromise}allocateHostMemory(n,s){const r={[D]:s},o=q(n),c=this.allocateRelocMemory(n,s),i=this.allocateShadowMemory(n,s),a={constructor:r,[w]:c,[k]:o},l={constructor:r,[w]:i,[k]:o};return l[Ht]={address:this.getViewAddress(i),len:n,align:s},this.addShadow(l,a,s),i}freeHostMemory(n,s,r){const o=this.findMemory(n,s,1);this.removeShadow(o),this.unregisterMemory(n),this.freeShadowMemory(n,s,r)}getBufferAddress(n){return 0}allocateFixedMemory(n,s){const r=n?this.allocateExternMemory(n,s):0,o=this.obtainFixedView(r,n);return o[D]=s,o}freeFixedMemory(n,s,r){s&&this.freeExternMemory(n,s,r)}obtainFixedView(n,s){n<0&&(n=0);const{memory:r}=this,o=this.obtainView(r.buffer,n,s);return o[w]={memory:r,address:n,len:s},o}releaseFixedView(n){n.buffer;const s=n.byteOffset,r=n.byteLength,o=n[D];o!==void 0&&this.freeFixedMemory(s,r,o)}inFixedMemory(n){return this.memory?(X.call(n),n[w].buffer===this.memory.buffer):!1}copyBytes(n,s,r){const{memory:o}=this,c=new DataView(o.buffer,s,r);Nn(r)(n,c)}findSentinel(n,s){const{memory:r}=this,o=s.byteLength,c=r.buffer.byteLength-o+1;for(let i=n;i<c;i+=o){const a=new DataView(r.buffer,i,o);let l=!0;for(let u=0;u<o;u++){const f=a.getUint8(u),m=s.getUint8(u);if(f!==m){l=!1;break}}if(l)return(i-n)/o}}captureString(n,s){const{buffer:r}=this.memory,o=new Uint8Array(r,n,s);return Dt(o)}getTargetAddress(n,s){return this.inFixedMemory(n)?this.getViewAddress(n[w]):n[w].byteLength===0?0:!1}clearExchangeTable(){this.nextValueIndex!==1&&(this.nextValueIndex=1,this.valueTable={0:null},this.valueIndices=new Map)}getObjectIndex(n){if(n){let s=this.valueIndices.get(n);return s===void 0&&(s=this.nextValueIndex++,this.valueIndices.set(n,s),this.valueTable[s]=n),s}else return 0}fromWebAssembly(n,s){switch(n){case"v":case"s":return this.valueTable[s];case"i":return s;case"b":return!!s}}toWebAssembly(n,s){switch(n){case"v":case"s":return this.getObjectIndex(s);case"i":return s;case"b":return s?1:0}}exportFunction(n,s="",r=""){return n?(...o)=>{o=o.map((i,a)=>this.fromWebAssembly(s.charAt(a),i));const c=n.apply(this,o);return this.toWebAssembly(r,c)}:()=>{}}importFunction(n,s="",r=""){let o=!1;return s.startsWith("c")&&(o=!0,s=s.slice(1)),(...c)=>{c=c.map((a,l)=>this.toWebAssembly(s.charAt(l),a)),o&&(c=[this.context.call,...c]);const i=n.apply(this,c);return this.fromWebAssembly(r,i)}}exportFunctions(){const n={};for(const[s,{argType:r,returnType:o,alias:c}]of Object.entries(this.exports)){const i=this[c??s];n[`_${s}`]=this.exportFunction(i,r,o)}return n}importFunctions(n){for(const[s,r]of Object.entries(n)){const o=this.imports[s];if(o){const{argType:c,returnType:i}=o;this[s]=this.importFunction(r,c,i)}}}async instantiateWebAssembly(n){const s=await n;this.hasCodeSource=!0;const r={env:this.exportFunctions(),wasi_snapshot_preview1:this.getWASIImport()};return s[Symbol.toStringTag]==="Response"?WebAssembly.instantiateStreaming(s,r):WebAssembly.instantiate(s,r)}loadModule(n){return this.initPromise=(async()=>{var c,i;const{instance:s}=await this.instantiateWebAssembly(n),{memory:r,_initialize:o}=s.exports;this.importFunctions(s.exports),this.trackInstance(s),(i=(c=this.customWASI)==null?void 0:c.initialize)==null||i.call(c,s),this.runtimeSafety=this.isRuntimeSafetyActive(),this.memory=r,o==null||o()})()}trackInstance(n){const s=new WeakRef(n);Object.defineProperty(this,"released",{get:()=>!s.deref(),enumerable:!0})}linkVariables(n){this.initPromise&&(this.initPromise=this.initPromise.then(()=>super.linkVariables(n)))}getMemoryOffset(n){return n}recreateAddress(n){return n}startCall(n,s){this.startContext(),this.context.call=n,s[_]&&this.updatePointerAddresses(s);const r=this.getShadowAddress(s);return this.updateShadows(),r}endCall(n,s){this.updateShadowTargets(),s[_]&&this.acquirePointerTargets(s),this.releaseShadows(),this.endContext(),!this.context&&this.flushConsole&&(this.flushStdout(),this.flushConsole())}async runThunk(n,s){return await this.initPromise,this.runThunk(n,s)}invokeThunk(n,s){try{const r=this.runThunk(n,s);if(r){if(r[Symbol.toStringTag]==="Promise")return r.then(o=>(o&&this.handleError(o),s.retval),o=>{this.handleError(o)});throw r}return s.retval}catch(r){this.handleError(r)}}handleError(n){if(typeof n=="string")throw new Mn(n);if(n instanceof bn&&n.code===0)return;throw n}getWASIImport(){if(this.customWASI)return this.customWASI.wasiImport;{const r=()=>38;return{args_get:r,args_sizes_get:r,clock_res_get:r,clock_time_get:r,environ_get:r,environ_sizes_get:r,fd_advise:r,fd_allocate:r,fd_close:r,fd_datasync:r,fd_pread:r,fd_pwrite:r,fd_read:r,fd_readdir:r,fd_renumber:r,fd_seek:r,fd_sync:r,fd_tell:r,fd_write:(o,c,i,a)=>{if(o===1||o===2){const l=new DataView(this.memory.buffer);let u=0;for(let f=0,m=c;f<i;f++,m+=8){const h=l.getUint32(m,!0),d=l.getUint32(m+4,!0);if(d>0){const p=new DataView(this.memory.buffer,h,d);this.writeToConsole(p),u+=d}}return l.setUint32(a,u,!0),0}else return 38},fd_fdstat_get:r,fd_fdstat_set_flags:r,fd_fdstat_set_rights:r,fd_filestat_get:r,fd_filestat_set_size:r,fd_filestat_set_times:r,fd_prestat_get:()=>8,fd_prestat_dir_name:r,path_create_directory:r,path_filestat_get:r,path_filestat_set_times:r,path_link:r,path_open:r,path_readlink:r,path_remove_directory:r,path_rename:r,path_symlink:r,path_unlink_file:r,poll_oneoff:r,proc_exit:o=>{throw new bn(o)},random_get:(o,c)=>{const i=new DataView(this.memory.buffer,o,c);for(let a=0;a<c;a++)i.setUint8(a,Math.floor(256*Math.random()));return 0},sched_yield:r,sock_accept:r,sock_recv:r,sock_send:r,sock_shutdown:r}}}}function Ui(t){return new Ni}Ei();Io();qn();Ti();Mi();xo();Po();zo();zi();Ci();$i();Vi();yo();Pi();Ii();xi();const P={constructor:null,typedArray:null,type:0,name:void 0,byteSize:0,align:0,isConst:!1,isTuple:!1,hasPointer:!1,instance:{members:[],methods:[],template:null},static:{members:[],methods:[],template:null}},g={type:0,isRequired:!1},F={},G={},ue={},fe={},ye={},he={},J={},me={},pe={},st={},xt={},It={},de={},be={},Mt={},ge={},Se={},qe={},Bt={},we={},qt={},N={},nt={},Rt={},We={},ve={},Wt={},Oe={},Gt={},Ae={},Jt={},Kt={},Et={},Ge={},Je={},Tt={},Ke={},Ye={},He={},us={},Xe={},fs={},Ze={},ys={},Qe={},hs={},tn={},ms={},ps={},en={},ds={},Ee={},bs={},gs={},nn={},Ss={},sn={},ws={},vs={},Os={},As={},Es={},Ts={},zs={},xs={},Is={},Ps={},Vs={},Ms={},$s={},Cs={},ks={},js={},Ds={},rn={},_s={},Fs={},on={},Rs={},cn={},Ns={},Us={},Ls={},Bs={},qs={},Ws={},Gs={},an={},Js={},Ks={},Ys={},Hs={},Xs={},Zs={},Qs={},tr={},er={},nr={},sr={},rr={},or={},ir={},cr={},ar={},lr={},ur={},fr={},yr={},hr={},mr={},z=t=>new Uint8Array(t),Li=z(),Bi=z(),qi=z(8),Wi=z(),Gi=z([0,0,0,0,0,0,240,63]),Ji=z(),Ki=z(8),Yi=z(),Hi=z(),Xi=z([4]),Zi=z(),Qi=z(),tc=z([131,4,0,1]),ec=z([65,73,70,0]),nc=z([133,1,0,1]),sc=z([65,100,111,98,101,32,83,121,115,116,101,109,115,0]),rc=z(),oc=z([2]),ic=z([205,1,0,1]),cc=z([97,32,118,97,114,105,97,98,108,101,32,115,101,112,105,97,32,102,105,108,116,101,114,0]),ac=z(),lc=z(),uc=z(),fc=z(1),yc=z([1]),pr=z(24),hc=z(),mc=z(),pc=z(),dc=z(),bc=z([4]),ln=z(24),dr=z(24),gc=z(),Sc=z(),wc=z(),vc=z(),Oc=z([4]),un=z(24),Ac=z(4),Ec=z([2,0]),Tc=z([2,0]),zc=z(),xc=z(),Ic=z(),Pc=z(),y=Object.assign;y(us,{slots:{0:Xe,1:Ze,2:Qe,3:tn}});y(Xe,{structure:F,memory:{array:Li},const:!0,slots:{0:fs}});y(fs,{structure:xt});y(Ze,{structure:st,memory:{array:Bi},const:!0,slots:{0:ys}});y(ys,{structure:It,memory:{array:qi},const:!0});y(Qe,{structure:st,memory:{array:Wi},const:!0,slots:{0:hs}});y(hs,{structure:It,memory:{array:Gi},const:!0});y(tn,{structure:st,memory:{array:Ji},const:!0,slots:{0:ms}});y(ms,{structure:It,memory:{array:Ki},const:!0});y(ps,{slots:{0:en}});y(en,{structure:de,memory:{array:Yi},const:!0,slots:{0:Xe,1:Ze,2:Qe,3:tn}});y(ds,{slots:{0:Ee}});y(Ee,{structure:J,memory:{array:Hi},const:!0,slots:{0:bs}});y(bs,{structure:G,memory:{array:Xi},const:!0});y(gs,{slots:{0:nn}});y(nn,{structure:Mt,memory:{array:Zi},const:!0,slots:{0:Ee}});y(Ss,{slots:{0:sn}});y(sn,{structure:Mt,memory:{array:Qi},const:!0,slots:{0:Ee}});y(ws,{slots:{0:vs,1:As,2:Ts,3:xs,4:Ps,5:Vs,6:Ms}});y(vs,{structure:fe,memory:{array:tc},const:!0,slots:{0:Os}});y(Os,{structure:ue,memory:{array:ec},reloc:16778371});y(As,{structure:he,memory:{array:nc},const:!0,slots:{0:Es}});y(Es,{structure:ye,memory:{array:sc},reloc:16777605});y(Ts,{structure:J,memory:{array:rc},const:!0,slots:{0:zs}});y(zs,{structure:G,memory:{array:oc},const:!0});y(xs,{structure:pe,memory:{array:ic},const:!0,slots:{0:Is}});y(Is,{structure:me,memory:{array:cc},reloc:16777677});y(Ps,{structure:be,memory:{array:ac},const:!0,slots:{0:en}});y(Vs,{structure:ge,memory:{array:lc},const:!0,slots:{0:nn}});y(Ms,{structure:Se,memory:{array:uc},const:!0,slots:{0:sn}});y($s,{slots:{0:Cs,1:ks}});y(Cs,{structure:nt,memory:{array:fc},const:!0});y(ks,{structure:nt,memory:{array:yc},const:!0});y(js,{memory:{array:pr},slots:{0:Ds}});y(Ds,{structure:qt,memory:{array:pr,offset:0,length:8},slots:{0:rn}});y(rn,{structure:we,memory:{array:hc},reloc:0});y(_s,{slots:{0:Fs,1:Rs,2:Ns}});y(Fs,{structure:F,memory:{array:mc},const:!0,slots:{0:on}});y(on,{structure:Bt});y(Rs,{structure:F,memory:{array:pc},const:!0,slots:{0:cn}});y(cn,{structure:We});y(Ns,{structure:J,memory:{array:dc},const:!0,slots:{0:Us}});y(Us,{structure:G,memory:{array:bc},const:!0});y(Ls,{memory:{array:ln},slots:{0:Bs}});y(Bs,{structure:ve,memory:{array:ln},slots:{0:qs}});y(qs,{structure:qt,memory:{array:ln,offset:0,length:8},slots:{0:rn}});y(Ws,{memory:{array:dr},slots:{0:Gs}});y(Gs,{structure:Gt,memory:{array:dr,offset:0,length:8},slots:{0:an}});y(an,{structure:Oe,memory:{array:gc},reloc:0});y(Js,{slots:{0:Ks,1:Ys,2:Hs}});y(Ks,{structure:F,memory:{array:Sc},const:!0,slots:{0:on}});y(Ys,{structure:F,memory:{array:wc},const:!0,slots:{0:cn}});y(Hs,{structure:J,memory:{array:vc},const:!0,slots:{0:Xs}});y(Xs,{structure:G,memory:{array:Oc},const:!0});y(Zs,{memory:{array:un},slots:{0:Qs}});y(Qs,{structure:Ae,memory:{array:un},slots:{0:tr}});y(tr,{structure:Gt,memory:{array:un,offset:0,length:8},slots:{0:an}});y(er,{memory:{array:Ac}});y(nr,{slots:{0:sr}});y(sr,{structure:Et,memory:{array:Ec},const:!0});y(rr,{slots:{0:or}});y(or,{structure:Tt,memory:{array:Tc},const:!0});y(ir,{slots:{0:cr,1:lr,2:fr,3:hr}});y(cr,{structure:F,memory:{array:zc},const:!0,slots:{0:ar}});y(ar,{structure:qe});y(lr,{structure:F,memory:{array:xc},const:!0,slots:{0:ur}});y(ur,{structure:Wt});y(fr,{structure:F,memory:{array:Ic},const:!0,slots:{0:yr}});y(yr,{structure:Jt});y(hr,{structure:F,memory:{array:Pc},const:!0,slots:{0:mr}});y(mr,{structure:Kt});const Vc={argStruct:Je,thunkId:2,name:"createOutput"},Mc={argStruct:Ye,thunkId:3,name:"createPartialOutput"};y(F,{...P,name:"type",align:1,instance:{members:[{...g,type:6,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:F}],methods:[]}});y(G,{...P,name:"u8",byteSize:1,align:1,instance:{members:[{...g,type:3,bitOffset:0,bitSize:8,byteSize:1,structure:G}],methods:[]}});y(ue,{...P,type:1,name:"[3:0]u8",length:3,byteSize:4,align:1,instance:{members:[{...g,type:3,bitSize:8,byteSize:1,structure:G}],methods:[]}});y(fe,{...P,type:13,name:"*const [3:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...g,type:5,bitSize:32,byteSize:4,slot:0,structure:ue}],methods:[]}});y(ye,{...P,type:1,name:"[13:0]u8",length:13,byteSize:14,align:1,instance:{members:[{...g,type:3,bitSize:8,byteSize:1,structure:G}],methods:[]}});y(he,{...P,type:13,name:"*const [13:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...g,type:5,bitSize:32,byteSize:4,slot:0,structure:ye}],methods:[]}});y(J,{...P,name:"comptime_int",align:1,instance:{members:[{...g,type:7,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:J}],methods:[]}});y(me,{...P,type:1,name:"[23:0]u8",length:23,byteSize:24,align:1,instance:{members:[{...g,type:3,bitSize:8,byteSize:1,structure:G}],methods:[]}});y(pe,{...P,type:13,name:"*const [23:0]u8",byteSize:4,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...g,type:5,bitSize:32,byteSize:4,slot:0,structure:me}],methods:[]}});y(st,{...P,name:"comptime_float",align:1,instance:{members:[{...g,type:7,bitOffset:0,bitSize:0,byteSize:0,slot:0,structure:st}],methods:[]}});y(xt,{...P,name:"f32",byteSize:4,align:4,instance:{members:[{...g,type:4,bitOffset:0,bitSize:32,byteSize:4,structure:xt}],methods:[]}});y(It,{...P,name:"f64",byteSize:8,align:8,instance:{members:[{...g,type:4,bitOffset:0,bitSize:64,byteSize:8,structure:It}],methods:[]}});y(de,{...P,type:2,name:"Struct0020",align:1,instance:{members:[{...g,type:7,slot:0,name:"type",structure:F},{...g,type:7,slot:1,name:"minValue",structure:st},{...g,type:7,slot:2,name:"maxValue",structure:st},{...g,type:7,slot:3,name:"defaultValue",structure:st}],methods:[],template:us}});y(be,{...P,type:2,name:"Struct0019",align:1,instance:{members:[{...g,type:7,slot:0,name:"intensity",structure:de}],methods:[],template:ps}});y(Mt,{...P,type:2,name:"Struct0027",align:1,instance:{members:[{...g,type:7,slot:0,name:"channels",structure:J}],methods:[],template:ds}});y(ge,{...P,type:2,name:"Struct0026",align:1,instance:{members:[{...g,type:7,slot:0,name:"src",structure:Mt}],methods:[],template:gs}});y(Se,{...P,type:2,name:"Struct0029",align:1,instance:{members:[{...g,type:7,slot:0,name:"dst",structure:Mt}],methods:[],template:Ss}});y(qe,{...P,type:2,name:"sepia.kernel",align:1,static:{members:[{...g,type:7,slot:0,name:"namespace",structure:fe},{...g,type:7,slot:1,name:"vendor",structure:he},{...g,type:7,slot:2,name:"version",structure:J},{...g,type:7,slot:3,name:"description",structure:pe},{...g,type:7,slot:4,name:"parameters",structure:be},{...g,type:7,slot:5,name:"inputImages",structure:ge},{...g,type:7,slot:6,name:"outputImages",structure:Se}],methods:[],template:ws}});y(Bt,{...P,type:15,name:"@Vector(4, u8)",length:4,byteSize:4,align:4,instance:{members:[{...g,type:3,bitSize:8,byteSize:1,structure:G}],methods:[]}});y(we,{...P,type:14,name:"[_]const @Vector(4, u8)",byteSize:4,align:4,instance:{members:[{...g,type:5,bitSize:32,byteSize:4,structure:Bt}],methods:[]}});y(qt,{...P,type:13,name:"[]const @Vector(4, u8)",byteSize:8,align:4,isConst:!0,hasPointer:!0,instance:{members:[{...g,type:5,bitSize:64,byteSize:8,slot:0,structure:we}],methods:[]}});y(N,{...P,name:"u32",byteSize:4,align:4,instance:{members:[{...g,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:N}],methods:[]}});y(nt,{...P,type:11,name:"sepia.ColorSpace",byteSize:1,align:1,instance:{members:[{...g,type:3,bitOffset:0,bitSize:1,byteSize:1,structure:nt}],methods:[]},static:{members:[{...g,type:7,slot:0,name:"srgb",structure:nt},{...g,type:7,slot:1,name:"display-p3",structure:nt}],methods:[],template:$s}});y(Rt,{...P,name:"usize",byteSize:4,align:4,instance:{members:[{...g,type:3,bitOffset:0,bitSize:32,byteSize:4,structure:Rt}],methods:[]}});y(We,{...P,type:15,name:"@Vector(4, f32)",length:4,byteSize:16,align:16,instance:{members:[{...g,type:4,bitSize:32,byteSize:4,structure:xt}],methods:[]}});y(ve,{...P,type:2,name:"sepia.Image(u8,4,false)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...g,type:5,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:qt},{...g,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:N},{...g,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:N},{...g,type:3,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:nt},{...g,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:Rt}],methods:[],template:js},static:{members:[{...g,type:7,slot:0,name:"Pixel",structure:F},{...g,type:7,slot:1,name:"FPixel",structure:F},{...g,type:7,slot:2,name:"channels",structure:J}],methods:[],template:_s}});y(Wt,{...P,type:2,name:"sepia.KernelInput(u8,sepia.kernel)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...g,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"src",structure:ve}],methods:[],template:Ls}});y(Oe,{...P,type:14,name:"[_]@Vector(4, u8)",byteSize:4,align:4,instance:{members:[{...g,type:5,bitSize:32,byteSize:4,structure:Bt}],methods:[]}});y(Gt,{...P,type:13,name:"[]@Vector(4, u8)",byteSize:8,align:4,hasPointer:!0,instance:{members:[{...g,type:5,bitSize:64,byteSize:8,slot:0,structure:Oe}],methods:[]}});y(Ae,{...P,type:2,name:"sepia.Image(u8,4,true)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...g,type:5,isRequired:!0,bitOffset:0,bitSize:64,byteSize:8,slot:0,name:"data",structure:Gt},{...g,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:1,name:"width",structure:N},{...g,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:2,name:"height",structure:N},{...g,type:3,bitOffset:160,bitSize:1,byteSize:1,slot:3,name:"colorSpace",structure:nt},{...g,type:3,bitOffset:128,bitSize:32,byteSize:4,slot:4,name:"offset",structure:Rt}],methods:[],template:Ws},static:{members:[{...g,type:7,slot:0,name:"Pixel",structure:F},{...g,type:7,slot:1,name:"FPixel",structure:F},{...g,type:7,slot:2,name:"channels",structure:J}],methods:[],template:Js}});y(Jt,{...P,type:2,name:"sepia.KernelOutput(u8,sepia.kernel)",byteSize:24,align:4,hasPointer:!0,instance:{members:[{...g,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"dst",structure:Ae}],methods:[],template:Zs}});y(Kt,{...P,type:2,name:"sepia.KernelParameters(sepia.kernel)",byteSize:4,align:4,instance:{members:[{...g,type:4,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"intensity",structure:xt}],methods:[],template:er}});y(Et,{...P,type:10,name:"ErrorSet0044",byteSize:2,align:2,instance:{members:[{...g,type:3,bitOffset:0,bitSize:16,byteSize:2,structure:Et}],methods:[]},static:{members:[{...g,type:7,slot:0,name:"OutOfMemory",structure:Et}],methods:[],template:nr}});y(Ge,{...P,type:9,name:"ErrorSet0044!sepia.KernelOutput(u8,sepia.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...g,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:Jt},{...g,type:3,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:Et}],methods:[]}});y(Je,{...P,type:5,name:"Arg0050",byteSize:64,align:4,hasPointer:!0,instance:{members:[{...g,type:3,isRequired:!0,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"0",structure:N},{...g,type:3,isRequired:!0,bitOffset:32,bitSize:32,byteSize:4,slot:1,name:"1",structure:N},{...g,type:5,isRequired:!0,bitOffset:64,bitSize:192,byteSize:24,slot:2,name:"2",structure:Wt},{...g,type:5,isRequired:!0,bitOffset:256,bitSize:32,byteSize:4,slot:3,name:"3",structure:Kt},{...g,type:5,isRequired:!0,bitOffset:288,bitSize:224,byteSize:28,slot:4,name:"retval",structure:Ge}],methods:[]}});y(Tt,{...P,type:10,name:"ErrorSet0047",byteSize:2,align:2,instance:{members:[{...g,type:3,bitOffset:0,bitSize:16,byteSize:2,structure:Tt}],methods:[]},static:{members:[{...g,type:7,slot:0,name:"OutOfMemory",structure:Tt}],methods:[],template:rr}});y(Ke,{...P,type:9,name:"ErrorSet0047!sepia.KernelOutput(u8,sepia.kernel)",byteSize:28,align:4,hasPointer:!0,instance:{members:[{...g,type:5,bitOffset:0,bitSize:192,byteSize:24,slot:0,name:"value",structure:Jt},{...g,type:3,bitOffset:192,bitSize:16,byteSize:2,name:"error",structure:Tt}],methods:[]}});y(Ye,{...P,type:5,name:"Arg0051",byteSize:72,align:4,hasPointer:!0,instance:{members:[{...g,type:3,isRequired:!0,bitOffset:0,bitSize:32,byteSize:4,slot:0,name:"0",structure:N},{...g,type:3,isRequired:!0,bitOffset:32,bitSize:32,byteSize:4,slot:1,name:"1",structure:N},{...g,type:3,isRequired:!0,bitOffset:64,bitSize:32,byteSize:4,slot:2,name:"2",structure:N},{...g,type:3,isRequired:!0,bitOffset:96,bitSize:32,byteSize:4,slot:3,name:"3",structure:N},{...g,type:5,isRequired:!0,bitOffset:128,bitSize:192,byteSize:24,slot:4,name:"4",structure:Wt},{...g,type:5,isRequired:!0,bitOffset:320,bitSize:32,byteSize:4,slot:5,name:"5",structure:Kt},{...g,type:5,isRequired:!0,bitOffset:352,bitSize:224,byteSize:28,slot:6,name:"retval",structure:Ke}],methods:[]}});y(He,{...P,type:2,name:"sepia",align:1,static:{members:[{...g,type:7,slot:0,name:"kernel",structure:F},{...g,type:7,slot:1,name:"Input",structure:F},{...g,type:7,slot:2,name:"Output",structure:F},{...g,type:7,slot:3,name:"Parameters",structure:F}],methods:[Vc,Mc],template:ir}});const $c=[F,G,ue,fe,ye,he,J,me,pe,st,xt,It,de,be,Mt,ge,Se,qe,Bt,we,qt,N,nt,Rt,We,ve,Wt,Oe,Gt,Ae,Jt,Kt,Et,Ge,Je,Tt,Ke,Ye,He],Cc=He,kc={runtimeSafety:!1,littleEndian:!0},Te=Ui();Te.getSpecialExports();Te.recreateStructures($c,kc);const jc=(async()=>{const t=new URL("sepia-x-hG8a0b.wasm",import.meta.url).href;return fetch(t)})();Te.loadModule(jc);Te.linkVariables(!0);const{constructor:Dc}=Cc,{createOutput:_c,createPartialOutput:Lc,kernel:Bc,Input:qc,Output:Wc,Parameters:Gc}=Dc;async function Fc(t,e,n,s){const c=(await _c(t,e,{src:n},s)).dst.data.typedArray,i=new Uint8ClampedArray(c.buffer,c.byteOffset,c.byteLength);return new ImageData(i,t,e)}onmessage=async t=>{if(!Array.isArray(t.data))return;const[e,n,...s]=t.data;try{const[r,o]=await Rc(e,s);postMessage([e,n,r],{transfer:o})}catch(r){postMessage(["error",n,r])}};async function Rc(t,e){switch(t){case"createImageData":const n=await Fc(...e),s=[n.data.buffer];return[n,s];default:throw new Error(`Unknown function: ${t}`)}}postMessage("ready");
